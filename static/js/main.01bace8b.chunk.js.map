{"version":3,"sources":["view/navbar/TopBar.tsx","view/navbar/Buttons.tsx","view/navbar/DropDown.tsx","view/navbar/DropDownComponents.tsx","view/utility/DraggablePanel.tsx","view/grid/GridBackground.tsx","pathfinding/core/Components.ts","pathfinding/core/Grid.ts","view/web-content/weight.svg","view/grid/TileFg.tsx","view/grid/SolidFg.tsx","view/grid/WeightFg.tsx","view/grid/GridForeground.tsx","view/grid/StatsPanel.tsx","pathfinding/core/PlusNavigator.ts","pathfinding/core/Navigator.ts","pathfinding/algorithms/Heuristics.ts","pathfinding/structures/Hash.ts","pathfinding/structures/Heap.ts","pathfinding/algorithms/Pathfinder.ts","pathfinding/algorithms/Node.ts","pathfinding/algorithms/AStar.ts","pathfinding/algorithms/BFS.ts","pathfinding/structures/Stack.ts","pathfinding/algorithms/DFS.ts","pathfinding/algorithms/BidirectionalAStar.ts","pathfinding/algorithms/BidirectionalBFS.ts","pathfinding/algorithms/PathfinderBuilder.ts","view/utility/VirtualTimer.ts","pathfinding/algorithms/TerrainGenerator.ts","pathfinding/algorithms/RandomTerrainGenerator.ts","pathfinding/algorithms/MazeGenerator.ts","pathfinding/algorithms/TerrainGeneratorBuilder.ts","view/grid/PathfindingVisualizer.tsx","view/utility/Checkbox.tsx","view/utility/SteppedRangeSlider.tsx","view/utility/RadioButtonGroup.tsx","view/navbar/SettingPanels.tsx","view/SettingsManager.ts","view/PathfindingSettings.ts","view/web-content/react.png","view/PathfindingApp.tsx","App.tsx","index.tsx"],"names":["TopBar","bar","React","createRef","window","addEventListener","props","onChangeHeight","current","offsetHeight","this","ref","style","width","screen","availWidth","className","children","Component","SYMBOL_COLOR","DIMENSION","VisualizeButton","height","rx","fill","points","x","active","onMouseDown","e","preventDefault","onClick","paused","onResume","onPause","xmlns","getResumeSymbol","getPauseSymbol","onStartStop","getStopSymbol","SettingsButton","DropDown","show","setState","up","display","hide","toggle","stopPropagation","isHidden","state","contentStyle","Clickable","tabIndex","onKeyPress","click","AlgorithmDropDown","onChange","key","algText","text","arrowClass","fade","nativeEvent","ClearDropDown","onClickPath","onClickTiles","onClickReset","MazeDropDown","onClickMaze","onClickMazeHorizontal","onClickMazeVertical","onClickRandomTerrain","TilesDropDown","cost","onClickTileType","DraggablePanel","draggable","draggableContainer","draggableContent","dragging","prevX","prevY","mouseDown","clientY","clientX","touchStart","touch","touches","changedTouches","mouseUp","mouseMove","drag","touchMove","container","top","offsetTop","left","offsetLeft","content","innerHeight","innerWidth","offsetWidth","getPosition","visibleStyle","renderDraggable","draggableStyle","onTouchStart","title","onClickXButton","document","minHeight","ARROW_COLOR","GridBackground","clear","visualization","createEmptyBg","arrows","doGeneration","generation","point","tile","y","visualizeGeneration","prevState","map","arr","slice","visualizeGenerations","generations","doArrowGeneration","point1","point2","newArrow","from","to","i","length","a","index","indexOf","splice","push","addArrowGeneration","addArrowGenerations","renderArrows","tileWidth","offset","arrow","first","second","firstX","firstY","secondX","secondY","offsetX","offsetY","x1","y1","x2","y2","stroke","strokeWidth","markerEnd","renderTiles","tiles","row","renderTile","color","backgroundColor","tilesX","tilesY","id","markerWidth","markerHeight","refX","refY","orient","createTile","isSolid","pathCost","RectGrid","_g","_g2","_g3","mutateDefault","solid","mutate","nodes","data","createEmptyGrid","console","str","log","JSON","stringify","grid","mutateTile","get","TileFg","applyExpandAnimation","expansionDuration","expansions","expansionStep","original","tileSize","setTimeout","time","SolidFg","size","doAnimation","dimensions","getDimensions","shapeRendering","getStyle","_extends","Object","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgWeight","_ref","svgRef","titleId","xmlnsXlink","viewBox","enableBackground","xmlSpace","overflow","xlinkHref","transform","d","strokeMiterlimit","cx","cy","r","ForwardRef","WeightFg","showNumber","opacity","dominantBaseline","textAnchor","fontSize","SOLID_COLOR","ARROW_PATH_COLOR","pointsEqual","isControlKey","button","GridForeground","svg","tilePointer","drawing","erasing","draggingInitial","draggingGoal","disable","doTileAnimation","changeTile","bounds","getBoundingRect","onPress","onDrag","onEndingEvent","xCoordinate","yCoordinate","calculatePoint","initial","goal","isEmpty","drawTile","eraseTile","moveInitial","moveGoal","drawGrid","clone","inBounds","clearTiles","canMoveEndPoint","onTilesDragged","drawPath","path","erasePath","Math","floor","resetPoints","end","calcEndPointInView","renderPath","lines","renderPathArrow","weightOpacity","renderEndTile","round","topMargin","getBoundingClientRect","onContextMenu","onMouseUp","onMouseMove","onMouseLeave","onTouchMoveCapture","onTouchEnd","onTouchCancel","StatsPanel","textLog","scrollTop","scrollHeight","clientHeight","toFixed","algorithm","readOnly","value","unselectable","onDrop","PlusNavigator","getWidth","getHeight","b","manhattan","abs","euclidean","dx","dy","sqrt","octile","SQRT2","min","chebyshev","max","nullHeuristic","HashSet","undefined","HashTable","Heap","compare","elements","siftUp","val","peek","move","pop","siftDown","pos","parent","swap","right","child","reconstructPath","bottomLeaf","reconstructPathReversed","reverse","Pathfinder","navigator","recentSearch","node","Node","AStarNode","g","fScore","AStarPathfinder","func","heuristic","clearRecentSearch","getGrid","openFrontier","f","closedSet","openSet","root","add","currentNode","currentPoint","currentKey","remove","addRecent","equals","neighbors","neighbor","neighborPoint","neighborKey","has","stepCost","neighborNode","addChild","BFSPathfinder","frontier","visited","shift","next","Stack","DFSPathfinder","BiAStarPathfinder","startOpenFrontier","startOpenSet","endOpenFrontier","endOpenSet","initialRoot","goalRoot","startCurrentNode","startCurrentPointKey","concat","doAStarExpansion","endCurrentNode","endCurrentPointKey","structures","endPoint","BiBFSPathfinder","startVisited","endVisited","startFrontier","endFrontier","doBFSExpansion","CREATE_NAVIGATOR","CREATE_HEURISTIC","CREATE_PATHFINDER","PathfinderBuilder","toLowerCase","Error","createHeuristic","createNavigator","createPathfinder","VirtualTimer","callback","countDown","timeout","timeStarted","timeRemaining","finished","Date","now","clearTimeout","TerrainGenerator","ignore","shouldIgnore","RandomTerrainGenerator","tileData","topLeft","bottomRight","random","draw","getTerrain","divideWidthNoSkew","divideWidthHSkew","divideWidthVSkew","canDrawHole","getMidPoint","range","mid","getRand","MazeGenerator","slant","divideWidth","divide","chamber","widthOf","heightOf","randX","toDraw","edgeBlocked","randY","drawArr","leftChamber","rightChamber","topChamber","bottomChamber","TerrainGeneratorBuilder","type","calcLength","len","calcCost","PathfindingVisualizer","background","foreground","stats","visualized","visualizing","visualTimeouts","mazeTile","canShowArrows","settings","showArrows","canShowFrontier","visualizeAlg","pausePathfinding","pause","resumePathfinding","resume","doPathfinding","clearPath","pathfinder","getPathfinder","findPath","getRecentGenerations","doDelayedPathfinding","clearVisualization","toggleDisable","onChangeVisualizing","promises","baseIncrement","delayInc","delay","expandVisualization","expandArrows","forEach","promise","Promise","resolve","all","then","algorithmKey","bidirectional","hasBidirectional","makeBidirectional","setAlgorithm","setHeuristic","heuristicKey","setNavigator","navigatorKey","build","t0","performance","t2","getRecentNodes","getAlgorithmName","unshift","createTerrain","mazeType","newState","prevGrid","generator","setDimensions","setGeneratorType","setIgnorePoints","setTileData","generateTerrain","xEnd","yEnd","xFloor","yFloor","yDecimal","ceil","clearTilesChecked","clearVisualizationChecked","w","outerWidth","h","availHeight","outerHeight","Checkbox","checked","defaultChecked","disabled","boxStyle","defaultProps","SteppedRangeSlider","Number","currentTarget","default","list","step","sliderStyle","onInput","RadioButtonGroup","Children","toArray","radioButtons","VisualSettings","onChangeViz","onChangeShowArrows","onChangeWOpacity","SpeedSettings","onChangeSpeed","speed","speedText","String","initialSpeed","options","AlgorithmSettings","onChangeBidirectional","HeuristicSettings","enable","onClickManhattan","onClickEuclidean","onClickChebyshev","onClickOctile","SettingsManager","changeAlgo","algo","changeVisualize","changeShowArrows","changeBidirectional","changeSpeed","changeManhattan","changeEuclidean","changeChebyshev","changeOctile","PathfindingApp","visualizer","algDropDown","clrDropDown","mazeDropDown","tilesDropDown","settingsManager","onClickAlgDrop","onClickClrDrop","onClickMazeDrop","onClickTilesDrop","changeVButtonColor","toggleSettings","panelShow","hideSettings","heuristicDisabled","usesHeuristic","bidirectionalDisabled","arrowsDisabled","resetBoard","createMaze","createMazeVSkew","createMazeHSkew","createRandomTerrain","useIcon","mobile","test","userAgent","href","alt","src","Icon","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.01bace8b.chunk.js","sourcesContent":["import React, {RefObject} from 'react';\r\nimport './Navbar.css'\r\n\r\ninterface IProps {\r\n    onChangeHeight: (height: number) => void\r\n}\r\n\r\nclass TopBar extends React.Component<IProps>\r\n{\r\n    private bar: RefObject<HTMLDivElement> = React.createRef();\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', () => this.props.onChangeHeight(this.bar.current!.offsetHeight));\r\n        this.props.onChangeHeight(this.bar.current!.offsetHeight);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={this.bar} style={{\r\n                width: window.screen.availWidth\r\n            }} className='top-navbar'>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopBar;","import React from 'react';\r\nimport './Navbar.css'\r\n\r\ninterface VProps {\r\n    active: boolean,\r\n    paused: boolean,\r\n    onStartStop: ()  => void,\r\n    onPause: ()  => void,\r\n    onResume: ()  => void,\r\n}\r\n\r\ninterface ButtonProps {\r\n    onClick: ()  => void\r\n}\r\n\r\nconst SYMBOL_COLOR = 'rgb(230,230,230)';\r\nconst OFFSET = 14;\r\nconst DIMENSION = 47 - 2 * OFFSET;\r\n\r\nexport class VisualizeButton extends React.Component<VProps>\r\n{\r\n    getStopSymbol() {\r\n        return (\r\n            <rect width={DIMENSION}\r\n                  height={DIMENSION}\r\n                  rx={4}\r\n                  fill={SYMBOL_COLOR}\r\n            />\r\n        );\r\n    }\r\n\r\n    getResumeSymbol() {\r\n        const midY = DIMENSION / 2;\r\n        return (\r\n            <polygon\r\n                  points={`${0},${0} ${0},${DIMENSION} ${DIMENSION},${midY}`}\r\n                  className={'track round'}\r\n                  fill={SYMBOL_COLOR}\r\n            />\r\n        );\r\n    }\r\n\r\n    getPauseSymbol() {\r\n        return (\r\n            <svg>\r\n                <rect width={DIMENSION/2.5}\r\n                      height={DIMENSION}\r\n                      rx={3}\r\n                      fill={SYMBOL_COLOR}\r\n                />\r\n                <rect width={DIMENSION/2.5}\r\n                      height={DIMENSION}\r\n                      x={0.2*DIMENSION + DIMENSION/2.5}\r\n                      rx={3}\r\n                      fill={SYMBOL_COLOR}\r\n                />\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if(this.props.active) {\r\n            return (\r\n                <div className={'half-button-wrapper'}>\r\n                    <button onMouseDown={e => e.preventDefault()}\r\n                            className={'center half-button-left red-button half-viz-button'}\r\n                            onClick={this.props.paused ? this.props.onResume : this.props.onPause}\r\n                    >\r\n                        <svg xmlns='http://www.w3.org/2000/svg'\r\n                             className='svg-icon'\r\n                             width={DIMENSION}\r\n                             height={DIMENSION}\r\n                        >\r\n                            {this.props.paused ? this.getResumeSymbol() : this.getPauseSymbol()}\r\n                        </svg>\r\n                    </button>\r\n                    <button onMouseDown={e => e.preventDefault()}\r\n                            className={'center half-button-right red-button half-viz-button'}\r\n                            onClick={this.props.onStartStop}\r\n                    >\r\n                        <svg xmlns='http://www.w3.org/2000/svg'\r\n                             className='svg-icon'\r\n                             width={DIMENSION}\r\n                             height={DIMENSION}\r\n                        >\r\n                            {this.getStopSymbol()}\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <button onMouseDown={e => e.preventDefault()}\r\n                        className={'button green-button viz-button'}\r\n                        onClick={this.props.onStartStop}\r\n                >\r\n                    Visualize!\r\n                </button>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport class SettingsButton extends React.Component<ButtonProps>\r\n{\r\n    render() {\r\n        return (\r\n            <button onMouseDown={e => e.preventDefault()}\r\n                    className='button settings-button'\r\n                    onClick={this.props.onClick}>\r\n                Settings\r\n            </button>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport interface DropDownProps {\r\n    onClick: () => void,\r\n}\r\n\r\nexport interface DropDownState {\r\n    up: boolean,\r\n    display: string,\r\n    fade: string\r\n}\r\n\r\nabstract class DropDown<IProps extends DropDownProps, IState extends DropDownState>\r\n    extends React.Component<IProps, IState>\r\n{\r\n    protected constructor(props: IProps) {\r\n        super(props);\r\n    }\r\n\r\n    show = () => {\r\n        this.setState({\r\n            up: false,\r\n            display: 'block',\r\n        });\r\n    }\r\n\r\n    hide = () => {\r\n        this.setState({\r\n            display: 'none',\r\n            up: true,\r\n        });\r\n    }\r\n\r\n    toggle = (e: Event) => {\r\n        e.stopPropagation();\r\n        this.props.onClick();\r\n        if(this.isHidden()) {\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    isHidden = () => {\r\n        return this.state.display === 'none';\r\n    }\r\n\r\n    contentStyle = () => {\r\n        return {\r\n            display: this.state.display\r\n        }\r\n    }\r\n}\r\n\r\nexport default DropDown;","import React from 'react';\r\nimport './Navbar.css'\r\nimport DropDown, {DropDownProps, DropDownState} from './DropDown';\r\n\r\ninterface AlgProps extends DropDownProps {\r\n    onChange: (alg: string) => void\r\n}\r\n\r\ninterface DropDownTextState extends DropDownState {\r\n    text: string,\r\n}\r\n\r\ninterface ClrProps extends DropDownProps {\r\n    onClickPath: () => void,\r\n    onClickTiles: () => void,\r\n    onClickReset: () => void;\r\n}\r\n\r\ninterface MazeProps extends DropDownProps {\r\n    onClickMaze: () => void,\r\n    onClickMazeHorizontal: () => void,\r\n    onClickMazeVertical: () => void,\r\n    onClickRandomTerrain: () => void\r\n}\r\n\r\ninterface TileProps extends DropDownProps {\r\n    onClickTileType: (cost: number) => void\r\n}\r\n\r\ninterface ClickableProps {\r\n    click: () => void;\r\n}\r\n\r\nclass Clickable extends React.Component<ClickableProps>\r\n{\r\n    render() {\r\n        return (\r\n            <div tabIndex={0} onKeyPress={this.props.click} onClick={this.props.click}>{this.props.children}</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport class AlgorithmDropDown extends DropDown<AlgProps, DropDownTextState>\r\n{\r\n    constructor(props: AlgProps) {\r\n        super(props);\r\n        this.state = {\r\n            up: true,\r\n            display: 'none',\r\n            text: 'A* Search',\r\n            fade: 'fade-in'\r\n        };\r\n    }\r\n\r\n    onChange = (key: string, algText: string) => {\r\n        this.props.onChange(key);\r\n        this.setState({\r\n            text: algText\r\n        });\r\n    }\r\n\r\n    arrowClass = () => {\r\n        return this.state.up ? 'arrowUp' : 'arrowDown';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div tabIndex={0} className='alg-drop-down drop-down'\r\n                 onMouseDown={e => e.preventDefault()}\r\n                 onKeyPress={(e) => this.toggle(e.nativeEvent)}\r\n                 onClick={(e) => this.toggle(e.nativeEvent)}\r\n            >\r\n                <div className='alg-drop-down-button drop-down-button'>\r\n                    <span className='alg-drop-down-text drop-down-text'>{this.state.text}</span>\r\n                    <span className={'alg-arr ' + this.arrowClass()}/>\r\n                </div>\r\n                <div style={this.contentStyle()}\r\n                     className={this.state.fade + ' alg-drop-down-content drop-down-content'}\r\n                >\r\n                    <Clickable click={() => this.onChange('a*', 'A* Search')}>A* Search</Clickable>\r\n                    <Clickable click={() => this.onChange('dijkstra', 'Dijkstra')}>Dijkstra's Algorithm</Clickable>\r\n                    <Clickable click={() => this.onChange('best-first', 'Best First')}>Best First Search</Clickable>\r\n                    <Clickable click={() => this.onChange('bfs', 'Breadth First')}>Breadth First Search</Clickable>\r\n                    <Clickable click={() => this.onChange('dfs', 'Depth First')}>Depth First Search</Clickable>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class ClearDropDown extends DropDown<ClrProps, DropDownState>\r\n{\r\n    constructor(props: ClrProps) {\r\n        super(props);\r\n        this.state = {\r\n            up: true,\r\n            display: 'none',\r\n            fade: 'fade-in'\r\n        };\r\n    }\r\n\r\n    arrowClass = () => {\r\n        return this.state.up ? 'arrowUpW' : 'arrowDownW';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div tabIndex={0} className='clr-drop-down drop-down'\r\n                 onMouseDown={e => e.preventDefault()}\r\n                 onKeyPress={(e) => this.toggle(e.nativeEvent)}\r\n                 onClick={(e) => this.toggle(e.nativeEvent)}\r\n            >\r\n                <div className='clr-drop-down-button drop-down-button'>\r\n                    <span className='clr-drop-down-text drop-down-text'>Reset</span>\r\n                    <span className={'clr-arr ' + this.arrowClass()}/>\r\n                </div>\r\n                <div style={this.contentStyle()}\r\n                     className={this.state.fade + ' clr-drop-down-content drop-down-content'}\r\n                >\r\n                    <Clickable click={this.props.onClickPath}>Clear Path</Clickable>\r\n                    <Clickable click={this.props.onClickTiles}>Clear Tiles</Clickable>\r\n                    <Clickable click={this.props.onClickReset}>Reset Grid</Clickable>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class MazeDropDown extends DropDown<MazeProps, DropDownState>\r\n{\r\n    constructor(props: MazeProps) {\r\n        super(props);\r\n        this.state = {\r\n            up: true,\r\n            display: 'none',\r\n            fade: 'fade-in'\r\n        };\r\n    }\r\n\r\n    arrowClass = () => {\r\n        return this.state.up ? 'arrowUpW' : 'arrowDownW';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div tabIndex={0} className='maze-drop-down drop-down'\r\n                 onMouseDown={e => e.preventDefault()}\r\n                 onKeyPress={(e) => this.toggle(e.nativeEvent)}\r\n                 onClick={(e) => this.toggle(e.nativeEvent)}\r\n            >\r\n                <div className='maze-drop-down-button drop-down-button'>\r\n                    <span className='maze-drop-down-text drop-down-text'>Terrain</span>\r\n                    <span className={'clr-arr ' + this.arrowClass()}/>\r\n                </div>\r\n                <div style={this.contentStyle()}\r\n                     className={this.state.fade + ' maze-drop-down-content drop-down-content'}\r\n                >\r\n                    <Clickable click={this.props.onClickMaze}>Recursive Maze Division</Clickable>\r\n                    <Clickable click={this.props.onClickMazeHorizontal}>Horizontal Skewed Maze</Clickable>\r\n                    <Clickable click={this.props.onClickMazeVertical}>Vertical Skewed Maze</Clickable>\r\n                    <Clickable click={this.props.onClickRandomTerrain}>Random Terrain</Clickable>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class TilesDropDown extends DropDown<TileProps, DropDownTextState>\r\n{\r\n    constructor(props: TileProps) {\r\n        super(props);\r\n        this.state = {\r\n            up: true,\r\n            display: 'none',\r\n            fade: 'fade-in',\r\n            text: 'Wall []'\r\n        };\r\n    }\r\n\r\n    arrowClass = () => {\r\n        return this.state.up ? 'arrowUpW' : 'arrowDownW';\r\n    }\r\n\r\n    onChange = (cost: number, text: string) => {\r\n        this.props.onClickTileType(cost);\r\n        this.setState({\r\n            text: text\r\n        }, () => this.props.onClickTileType(cost));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div tabIndex={0} className='tiles-drop-down drop-down'\r\n                 onMouseDown={e => e.preventDefault()}\r\n                 onKeyPress={(e) => this.toggle(e.nativeEvent)}\r\n                 onClick={(e) => this.toggle(e.nativeEvent)}\r\n            >\r\n                <div className='tiles-drop-down-button drop-down-button'>\r\n                    <span className='tiles-drop-down-text drop-down-text'>{this.state.text}</span>\r\n                    <span className={'clr-arr ' + this.arrowClass()}/>\r\n                </div>\r\n                <div style={this.contentStyle()}\r\n                     className={this.state.fade + ' tiles-drop-down-content drop-down-content'}\r\n                >\r\n                    <Clickable click={() => this.onChange(-1, 'Wall []')}>Wall []</Clickable>\r\n                    <Clickable click={() => this.onChange(2, 'Weight [2]')}>Weight [2]</Clickable>\r\n                    <Clickable click={() => this.onChange(3, 'Weight [3]')}>Weight [3]</Clickable>\r\n                    <Clickable click={() => this.onChange(5, 'Weight [5]')}>Weight [5]</Clickable>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {RefObject} from 'react';\r\nimport './DraggablePanel.css'\r\n\r\ninterface IProps {\r\n    title: string,\r\n    show: boolean,\r\n    onClickXButton: () => void,\r\n    width: number,\r\n    height: number\r\n}\r\n\r\ninterface IState {\r\n    top: number,\r\n    left: number\r\n}\r\n\r\nclass DraggablePanel extends React.Component<IProps, IState>\r\n{\r\n    //refs are used to access native DOM\r\n    private draggable: RefObject<HTMLDivElement> = React.createRef();\r\n    private draggableContainer: RefObject<HTMLDivElement> = React.createRef();\r\n    private draggableContent: RefObject<HTMLDivElement> = React.createRef();\r\n\r\n    //stores previous mouse location and drag\r\n    private dragging = false;\r\n    private prevX = 0;\r\n    private prevY = 0;\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            top: -1,\r\n            left: -1\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        //mouse\r\n        document.addEventListener('mouseup', e => {\r\n            this.mouseUp(e);\r\n        });\r\n        document.addEventListener('mousemove', e => {\r\n            this.mouseMove(e);\r\n        });\r\n        window.addEventListener('mouseleave', e => {\r\n            this.mouseUp(e);\r\n        });\r\n        //touch\r\n        document.addEventListener('touchend', () => {\r\n            this.dragging = false;\r\n        });\r\n        document.addEventListener('touchmove', e => {\r\n            this.touchMove(e);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Start drag and init prev mouse location when mouse is clicked on draggable\r\n     * @param e\r\n     */\r\n    private mouseDown = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        this.prevY = e.clientY;\r\n        this.prevX = e.clientX;\r\n        this.dragging = true;\r\n    }\r\n\r\n    /**\r\n     * Start drag and init prev touch location when finger is clicked on draggable\r\n     * @param e\r\n     */\r\n    private touchStart = (e: TouchEvent) => {\r\n        const touch = e.touches[0] || e.changedTouches[0];\r\n        this.prevY = touch.clientY;\r\n        this.prevX = touch.clientX;\r\n        this.dragging = true;\r\n    }\r\n\r\n    /**\r\n     * Called when mouse is risen on document stop drag\r\n     * @param e\r\n     */\r\n    private mouseUp = (e: Event) => {\r\n        e.preventDefault();\r\n        this.dragging = false;\r\n    }\r\n\r\n    /**\r\n     * Called when the mouse is moved over the document to calculate the new position of\r\n     * the draggable canvas\r\n     * @param e\r\n     */\r\n    private mouseMove = (e: MouseEvent) => {\r\n        this.drag(e.clientX, e.clientY);\r\n    }\r\n\r\n    /**\r\n     * Called when the touch is moved over the document to calculate the new position of\r\n     * the draggable canvas\r\n     * @param e\r\n     */\r\n    private touchMove = (e: TouchEvent) => {\r\n        const touch = e.touches[0] || e.changedTouches[0];\r\n        this.drag(touch.clientX, touch.clientY);\r\n    }\r\n\r\n    /**\r\n     * Called when user drags over the document to move the panel\r\n     * @param clientX\r\n     * @param clientY\r\n     */\r\n    private drag = (clientX: number, clientY: number) => {\r\n        if(this.dragging) {\r\n            const container = this.draggableContainer.current!;\r\n            let top = (container.offsetTop - (this.prevY - clientY))\r\n            let left = (container.offsetLeft - (this.prevX - clientX));\r\n            const content = this.draggableContent.current!;\r\n            const draggable = this.draggable.current!;\r\n            //stop drag if mouse goes out of bounds\r\n            if(clientY < 0 || clientY > window.innerHeight\r\n                || clientX < 0 || clientX > window.innerWidth) {\r\n                this.dragging = false;\r\n            }\r\n            //check if position is out of bounds and prevent the panel from being dragged there\r\n            if(top < 0) {\r\n                top = 0;\r\n            } else if (top > window.innerHeight - draggable.offsetHeight) {\r\n                top = window.innerHeight - draggable.offsetHeight;\r\n            }\r\n            if(left < -content.offsetWidth/2) {\r\n                left = -content.offsetWidth/2;\r\n            } else if(left > window.innerWidth - content.offsetWidth/2) {\r\n                left = window.innerWidth - content.offsetWidth/2;\r\n            }\r\n            //set new position\r\n            this.setState({\r\n                top: top\r\n            });\r\n            this.setState({\r\n                left: left\r\n            });\r\n            //update previous pos\r\n            this.prevY = clientY;\r\n            this.prevX = clientX;\r\n        }\r\n    }\r\n\r\n    getPosition = () => {\r\n        const left = this.state.left;\r\n        const top = this.state.top;\r\n        if(left === -1 || top === -1) {\r\n            return {};\r\n        }\r\n        return {\r\n            left: left + 'px',\r\n            top: top + 'px',\r\n        };\r\n    }\r\n\r\n    visibleStyle = () => {\r\n        return this.props.show ? 'block' : 'none';\r\n    }\r\n\r\n    draggableStyle() {\r\n        return {\r\n            width: this.props.width,\r\n            display: this.visibleStyle()\r\n        }\r\n    }\r\n\r\n    contentStyle() {\r\n        return {\r\n            width: this.props.width,\r\n            minHeight: this.props.height,\r\n            display: this.visibleStyle()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={this.draggableContainer} className='draggable-container' style={this.getPosition()}>\r\n                {this.renderDraggable()}\r\n                <div ref={this.draggableContent} style={this.contentStyle()} className='draggable-content'>\r\n                    <div className='settings-general'>\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderDraggable = () => {\r\n        return (\r\n            <div style={this.draggableStyle()} className='draggable'\r\n                 ref={this.draggable}\r\n                 onMouseDown={e => this.mouseDown(e.nativeEvent)}\r\n                 onTouchStart={e => this.touchStart(e.nativeEvent)}\r\n            >\r\n                <div className='draggable-title'>{this.props.title}</div>\r\n                <div className='x-button' onClick={this.props.onClickXButton}>X</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DraggablePanel;","import React from 'react';\r\nimport './Grid.css';\r\nimport {Node} from '../../pathfinding/algorithms/Node';\r\nimport {Point} from '../../pathfinding/core/Components';\r\n\r\ninterface Arrow {\r\n    to: Point,\r\n    from: Point\r\n}\r\n\r\ninterface IProps {\r\n    tileWidth: number,\r\n    tilesX: number,\r\n    tilesY: number\r\n}\r\n\r\ninterface IState {\r\n    visualization: string[][],\r\n    arrows: Arrow[]\r\n}\r\n\r\nconst CLOSED_NODE = 'rgb(198, 237, 238)';\r\nconst OPEN_NODE = 'rgb(191, 248, 159)';\r\nconst EMPTY_NODE = 'white';\r\nconst ARROW_COLOR = 'rgb(153,153,153)';\r\n\r\nconst BASE_WIDTH = 27;\r\n\r\nclass GridBackground extends React.Component<IProps,IState>\r\n{\r\n    private readonly width: number;\r\n    private readonly height: number;\r\n\r\n    /**\r\n     * Constructs a GridBackground with immutable height and width\r\n     * @param props\r\n     */\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.width = this.props.tilesX;\r\n        this.height = this.props.tilesY;\r\n        this.state = {\r\n            visualization: this.createEmptyBg(),\r\n            arrows: []\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create a new empty visualization canvas\r\n     */\r\n    createEmptyBg() {\r\n        const visualization = [];\r\n        for(let y = 0; y < this.height; y++) {\r\n            const row: string[] = [];\r\n            for(let x = 0; x < this.width; x++) {\r\n                row.push(EMPTY_NODE);\r\n            }\r\n            visualization.push(row);\r\n        }\r\n        return visualization;\r\n    }\r\n\r\n    /**\r\n     * Clear the visualization canvas and update UI\r\n     */\r\n    clear = () => {\r\n        this.setState({\r\n            visualization: this.createEmptyBg(),\r\n            arrows: []\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Perform a generation on a visualization array\r\n     * @param generation\r\n     * @param visualization\r\n     */\r\n    private doGeneration = (generation: Node, visualization: string[][]) => {\r\n        for(const node of generation.children) {\r\n            const point = node.tile.point;\r\n            visualization[point.y][point.x] = OPEN_NODE;\r\n        }\r\n        const point = generation.tile.point;\r\n        visualization[point.y][point.x] = CLOSED_NODE;\r\n        return visualization;\r\n    }\r\n\r\n    /**\r\n     * Visualize generation without updating UI\r\n     * @param generation\r\n     */\r\n    visualizeGeneration = (generation: Node) => {\r\n        this.setState(prevState => ({\r\n            visualization: this.doGeneration(\r\n                generation,\r\n                prevState.visualization.map(\r\n                    (arr) => arr.slice()\r\n                )\r\n            )\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Visualize generation array and update UI\r\n     * @param generations\r\n     */\r\n    visualizeGenerations = (generations: Node[]) => {\r\n        const visualization = this.createEmptyBg();\r\n        for(const generation of generations) {\r\n            this.doGeneration(generation, visualization);\r\n        }\r\n        this.setState({\r\n            visualization: visualization\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Perform an arrow generation on an arrow array\r\n     * @param generation\r\n     * @param arrows\r\n     */\r\n    private doArrowGeneration = (generation: Node, arrows: Arrow[]) => {\r\n        const point = generation.tile.point;\r\n        for(const node of generation.children) {\r\n            const childPoint = node.tile.point;\r\n            const newArrow = {\r\n                from: point,\r\n                to: childPoint,\r\n            };\r\n            //remove a duplicate arrow to indicate replacement\r\n            //in A* for example, we could have re-discovered a better path to a tile\r\n            for(let i = 0; i < arrows.length; i++) {\r\n                const a = arrows[i];\r\n                if(pointsEqual(a.to, newArrow.to)) {\r\n                    const index = arrows.indexOf(a);\r\n                    arrows.splice(index, 1);\r\n                    i--;\r\n                }\r\n            }\r\n            arrows.push(newArrow);\r\n        }\r\n        return arrows;\r\n    }\r\n\r\n    /**\r\n     * Add arrow generation without updating UI\r\n     * @param generation\r\n     */\r\n    addArrowGeneration = (generation: Node) => {\r\n        this.setState(prevState => ({\r\n            arrows: this.doArrowGeneration(\r\n                generation,\r\n                prevState.arrows.slice()\r\n            )\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Add arrow generations and update UI\r\n     * @param generations\r\n     */\r\n    addArrowGenerations = (generations: Node[]) => {\r\n        const arrows: Arrow[] = [];\r\n        for(const generation of generations) {\r\n            this.doArrowGeneration(generation, arrows)\r\n        }\r\n        this.setState({\r\n            arrows: arrows\r\n        });\r\n    }\r\n\r\n    render() {\r\n        // console.timeEnd('time');\r\n        // console.time('time');\r\n        return (\r\n            <div>\r\n                <div className='bg'>\r\n                    {this.renderTiles()}\r\n                </div>\r\n                <svg xmlns='http://www.w3.org/2000/svg' className='grid'>\r\n                    <defs>\r\n                        <marker id='arrowhead' markerWidth='3' markerHeight='3'\r\n                                refX='0' refY='1.5' orient='auto'\r\n                                fill={ARROW_COLOR}\r\n                        >\r\n                            <polygon points='0 0, 3 1.5, 0 3'/>\r\n                        </marker>\r\n                    </defs>\r\n                    {this.renderArrows()}\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderArrows = () => {\r\n        const width = this.props.tileWidth;\r\n        const offset = width/2;\r\n        const arrows: JSX.Element[] = [];\r\n        for(let i = 0; i < this.state.arrows.length; i++) {\r\n            //calculate arrow position and dimensions\r\n            const arrow = this.state.arrows[i];\r\n            const first = arrow.from;\r\n            const second = arrow.to;\r\n            const firstX = first.x * width;\r\n            const firstY = first.y * width;\r\n            const secondX = second.x * width;\r\n            const secondY = second.y * width;\r\n            const offsetX = (secondX - firstX)/4;\r\n            const offsetY = (secondY - firstY)/4;\r\n            arrows.push(<line key={'arrow ' + i}\r\n                              x1={firstX + offset + offsetX}\r\n                              y1={firstY + offset + offsetY}\r\n                              x2={secondX + offset - offsetX}\r\n                              y2={secondY + offset - offsetY}\r\n                              stroke={ARROW_COLOR}\r\n                              strokeWidth={2 * this.props.tileWidth/BASE_WIDTH}\r\n                              className='line-arrow'\r\n                              markerEnd='url(#arrowhead)' />);\r\n        }\r\n        return arrows;\r\n    }\r\n\r\n    private renderTiles = () => {\r\n        const tiles: JSX.Element[][] = [];\r\n        for(let y = 0; y < this.height; y++) {\r\n            const row: JSX.Element[] = [];\r\n            for(let x = 0; x < this.width; x++) {\r\n                const point = {\r\n                    x: x, y: y\r\n                };\r\n                row.push(\r\n                    this.renderTile(point, this.state.visualization[point.y][point.x])\r\n                );\r\n            }\r\n            tiles.push(row);\r\n        }\r\n        return tiles;\r\n    }\r\n\r\n    private renderTile = (point: Point, color: string) => {\r\n        const width = this.props.tileWidth;\r\n        const top = point.y * this.props.tileWidth;\r\n        const left = point.x * this.props.tileWidth;\r\n        const style = {\r\n            backgroundColor: color,\r\n            width: width + 'px',\r\n            height: width + 'px',\r\n            top: top,\r\n            left: left\r\n        };\r\n        return (\r\n            <div key={point.x + ',' + point.y} style={style} className='tile'/>\r\n        );\r\n    }\r\n}\r\n\r\nfunction pointsEqual(point1: Point, point2: Point) {\r\n    return point1.x === point2.x && point1.y === point2.y;\r\n}\r\n\r\nexport default GridBackground;","/**\r\n * Represents a point in 2d space\r\n * Immutable\r\n */\r\nexport interface Point\r\n{\r\n    readonly x: number;\r\n    readonly y: number;\r\n}\r\n\r\n/**\r\n * Represents the data inside a tile\r\n * Solid tiles cannot be passed while non solid ones can\r\n * pathCost stores how expensive it is to travel to the tile if it isn't solid\r\n * Immutable\r\n */\r\nexport interface TileData\r\n{\r\n    readonly pathCost: number;\r\n    readonly isSolid: boolean;\r\n}\r\n\r\n/**\r\n * Represents a tile on the Grid\r\n */\r\nexport interface Tile\r\n{\r\n    data: TileData;\r\n    readonly point: Point;\r\n}\r\n\r\n/**\r\n * Simple function to create a solid tile with path cost of 1\r\n * @param isSolid\r\n */\r\nexport function createTile(isSolid: boolean) {\r\n    return {\r\n        pathCost: 1,\r\n        isSolid: isSolid\r\n    }\r\n}\r\n\r\n","import {createTile, Point, Tile, TileData} from './Components';\r\n\r\nexport interface Grid\r\n{\r\n    getWidth(): number;\r\n    getHeight(): number;\r\n    inBounds(point: Point): boolean;\r\n    get(point: Point): Tile;\r\n    isSolid(point: Point): boolean;\r\n    mutate(point: Point, data: TileData): void;\r\n    mutateTile(tile: Tile): void;\r\n    mutateDefault(point: Point, solid: boolean): void;\r\n    output(console: Console): void;\r\n    getJson(): string;\r\n    walkable(point: Point): boolean;\r\n    isEmpty(point: Point): boolean;\r\n    clone(): Grid;\r\n}\r\n\r\n/**\r\n * A square grid system that stores nodes in a matrix\r\n * Uses an x,y system where x corresponds to column of the matrix,\r\n * and y corresponds to the row of the matrix\r\n * TileData.ts should be treated like graph nodes\r\n */\r\nclass RectGrid implements Grid\r\n{\r\n    private readonly tiles: Tile[][];\r\n    private readonly width: number;\r\n    private readonly height: number;\r\n\r\n    /**\r\n     * Constructs a grid either with empty or predefined tiles\r\n     * @param width of the grid\r\n     * @param height of grid\r\n     * will perform a defensive copy to the grid\r\n     */\r\n    constructor(width: number, height: number) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.tiles = createEmptyGrid(width, height);\r\n    }\r\n\r\n    getWidth() {\r\n        return this.width;\r\n    }\r\n\r\n    getHeight() {\r\n        return this.height;\r\n    }\r\n\r\n    /**\r\n     * Checks if a given point is in bounds\r\n     * Other functions assume arguments are in bounds, this should be used\r\n     * if there is reasonable doubt about whether a point is in bounds\r\n     * @param point, to check\r\n     */\r\n    inBounds(point: Point) {\r\n        return point.x >= 0 && point.x < this.width && point.y >= 0 && point.y < this.height;\r\n    }\r\n\r\n    /**\r\n     * Retrieves a defensive tile for a position\r\n     * Defensive copy prevents this object from being mutated without calling\r\n     * a mutate function\r\n     * @param point, point to get\r\n     */\r\n    get(point: Point): Tile {\r\n        return {\r\n            point: this.tiles[point.y][point.x].point,\r\n            data: this.tiles[point.y][point.x].data\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mutates a position's tile to solid or non solid\r\n     * @param point, point to mutate\r\n     * @param data to mutate to\r\n     */\r\n    mutate(point: Point, data: TileData) {\r\n        this.tiles[point.y][point.x].data = data;\r\n    }\r\n\r\n    /**\r\n     * Mutates a a tile by point\r\n     * @param tile to mutate\r\n     */\r\n    mutateTile(tile: Tile) {\r\n        this.tiles[tile.point.y][tile.point.x].data = tile.data;\r\n    }\r\n\r\n    /**\r\n     * Mutate tile at point\r\n     * @param point to mutate at\r\n     * @param solid to determine what default tile to create\r\n     */\r\n    mutateDefault = (point: Point, solid: boolean) => {\r\n        this.mutate(\r\n            point, createTile(solid)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Outputs the grid to a console\r\n     * @param console\r\n     */\r\n    output(console: Console) {\r\n        for(let y = 0; y < this.height; y++) {\r\n            let str = '';\r\n            for(let x = 0; x < this.width; x++) {\r\n                str += this.tiles[y][x].data.isSolid + ', ';\r\n            }\r\n            console.log(str);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns json of tiles\r\n     */\r\n    getJson() {\r\n        return JSON.stringify(this.tiles);\r\n    }\r\n\r\n    /**\r\n     * Determines if a tile can be walked on\r\n     * @param point\r\n     */\r\n    walkable(point: Point) {\r\n        return !this.tiles[point.y][point.x].data.isSolid;\r\n    }\r\n\r\n    /**\r\n     * Determines if a tile isSolid\r\n     * @param point\r\n     */\r\n    isSolid(point: Point) {\r\n        return this.tiles[point.y][point.x].data.isSolid;\r\n    }\r\n\r\n    /**\r\n     * Determines if a tile is \"empty\"\r\n     *  Meaning it isn't solid and it has a pathCost of 1\r\n     * @param point\r\n     */\r\n    isEmpty(point: Point): boolean {\r\n        const data = this.tiles[point.y][point.x].data;\r\n        return data.pathCost === 1 && !data.isSolid\r\n    }\r\n\r\n    clone(): Grid {\r\n        const grid = new RectGrid(this.width, this.height);\r\n        for(let y = 0; y < grid.height; y++) {\r\n            for(let x = 0; x < grid.width; x++) {\r\n                const point = {\r\n                    x: x, y: y\r\n                }\r\n                grid.mutateTile(this.get(point));\r\n            }\r\n        }\r\n        return grid;\r\n    }\r\n}\r\n\r\n/**\r\n * Creates a 2d matrix of empty nodes\r\n */\r\nfunction createEmptyGrid(width: number, height: number) {\r\n    const nodes: Tile[][] = [];\r\n    for(let y = 0; y < height; y++) {\r\n        const row: Tile[] = [];\r\n        for(let x = 0; x < width; x++) {\r\n            row.push({\r\n                point: {\r\n                    x: x, y: y\r\n                },\r\n                data: createTile(false)\r\n            });\r\n        }\r\n        nodes.push(row);\r\n    }\r\n    return nodes;\r\n}\r\n\r\nexport default RectGrid;","var _g, _g2, _g3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWeight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"21.875px\",\n    height: \"21.875px\",\n    viewBox: \"0 0 21.875 21.875\",\n    enableBackground: \"new 0 0 21.875 21.875\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_4\",\n    display: \"none\"\n  }, /*#__PURE__*/React.createElement(\"image\", {\n    display: \"inline\",\n    overflow: \"visible\",\n    width: 18,\n    height: 24,\n    xlinkHref: \"../Downloads/yoooo/glyphicons-673-kettlebell.png\",\n    transform: \"matrix(0.8497 0 0 0.8497 3.4233 1.0347)\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_3\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 14.587,\n    y1: 21.873,\n    x2: 14.587,\n    y2: 21.873\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#420863\",\n    d: \"M6.531,21.38c-1.805-1.345-2.973-3.494-2.973-5.917c0-2.421,1.167-4.569,2.969-5.915\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"#420863\",\n    x1: 7.287,\n    y1: 21.875,\n    x2: 7.282,\n    y2: 21.872\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    fill: \"#420863\",\n    points: \"15.345,21.376 6.527,21.376 6.527,9.549 15.345,9.549 15.345,21.376  \"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"none\",\n    stroke: \"#420863\",\n    strokeWidth: 2,\n    strokeMiterlimit: 10,\n    cx: 11.012,\n    cy: 6.914,\n    r: 5.512\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#420863\",\n    d: \"M15.345,21.378c1.806-1.345,2.974-3.494,2.973-5.917c0-2.421-1.167-4.569-2.968-5.915\"\n  })))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    display: \"none\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    display: \"inline\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3.778,\n    y: 11.427,\n    transform: \"matrix(-0.7071 0.7071 -0.7071 -0.7071 28.6357 16.3531)\",\n    fill: \"#420863\",\n    width: 14.306,\n    height: 5.361\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3.792,\n    y: 5.088,\n    transform: \"matrix(-0.7071 -0.7071 0.7071 -0.7071 13.1915 20.9994)\",\n    fill: \"#420863\",\n    width: 14.305,\n    height: 5.361\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWeight);\nexport default __webpack_public_path__ + \"static/media/weight.2e4bdffd.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './Grid.css';\r\nimport {Point} from '../../pathfinding/core/Components';\r\n\r\nexport interface TileProps {\r\n    tileWidth: number,\r\n    point: Point,\r\n    color: string,\r\n    doAnimation: boolean\r\n}\r\n\r\nexport interface TileState {\r\n    tileSize: number\r\n}\r\n\r\nabstract class TileFg<IProps extends TileProps, IState extends TileState>\r\n    extends React.Component<IProps, IState>\r\n{\r\n    protected constructor(props: IProps) {\r\n        super(props);\r\n    }\r\n\r\n    /**\r\n     * Animation to expand element from half size to full size over a few milliseconds\r\n     * Can be slow to execute so animations should be enabled with caution\r\n     * @param expansionDuration in milliseconds\r\n     */\r\n    protected applyExpandAnimation = (expansionDuration: number) => {\r\n        const expansions = 10;\r\n        const expansionStep = expansionDuration/expansions;\r\n        const overStep = 2;\r\n        const original = this.state.tileSize;\r\n        for(let i = 1; i <= expansions + overStep; i++) {\r\n            const expand = () => this.setState({\r\n                tileSize: original + i * (this.props.tileWidth/(expansions))\r\n            });\r\n            setTimeout(expand, i * expansionStep);\r\n        }\r\n        let time = expansions + overStep + 1;\r\n        for(let i = expansions + overStep - 0.5; i >= expansions; i -= 0.5) {\r\n            const shrink = () => this.setState({\r\n                tileSize: original + i * (this.props.tileWidth/(expansions))\r\n            });\r\n            setTimeout(shrink, time * expansionStep);\r\n            time += 6;\r\n        }\r\n    }\r\n\r\n    protected getStyle() {\r\n        return {\r\n            fill: this.props.color,\r\n            stroke: 'none',\r\n            display: 'block'\r\n        };\r\n    }\r\n\r\n    protected getDimensions() {\r\n        const width = this.state.tileSize;\r\n        const top = this.props.point.y * this.props.tileWidth + (this.props.tileWidth - width)/2;\r\n        const left = this.props.point.x * this.props.tileWidth + (this.props.tileWidth - width)/2;\r\n        return {\r\n            width: width,\r\n            top: top,\r\n            left: left\r\n        }\r\n    }\r\n}\r\n\r\nexport default TileFg;","import React from 'react';\r\nimport './Grid.css';\r\nimport TileFg, {TileProps, TileState} from './TileFg';\r\n\r\nclass SolidFg extends TileFg<TileProps, TileState>\r\n{\r\n    constructor(props: TileProps) {\r\n        super(props);\r\n        const size = this.props.doAnimation ?  0 : this.props.tileWidth;\r\n        this.state = {\r\n            tileSize: size\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.doAnimation) {\r\n            this.applyExpandAnimation(100);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const dimensions = this.getDimensions();\r\n        return (\r\n            <rect x={dimensions.left} y={dimensions.top}\r\n                  shapeRendering='crispEdges'\r\n                  width={dimensions.width} height={dimensions.width}\r\n                  style={this.getStyle()} className={'svg-tile'}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SolidFg;","import React from 'react';\r\nimport {ReactComponent as Weight} from '../web-content/weight.svg';\r\nimport TileFg, {TileProps, TileState} from './TileFg';\r\n\r\ninterface IProps extends TileProps{\r\n    opacity: number\r\n    cost: number\r\n}\r\n\r\ninterface IState extends TileState {\r\n    showNumber: boolean\r\n}\r\n\r\nclass WeightFg extends TileFg<IProps, IState>\r\n{\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        const size = this.props.doAnimation ?  0 : this.props.tileWidth;\r\n        this.state = {\r\n            tileSize: size,\r\n            showNumber: !this.props.doAnimation\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.doAnimation) {\r\n            const expansionDuration = 100;\r\n            this.applyExpandAnimation(100);\r\n            setTimeout(() => this.setState({\r\n                showNumber: true\r\n            }), expansionDuration);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const dimensions = this.getDimensions();\r\n        const children: JSX.Element[] = [];\r\n        children.push(\r\n            <Weight width={dimensions.width} height={dimensions.width}\r\n                    style={this.getStyle()} className={'svg-tile'}\r\n                    opacity={this.props.opacity}\r\n                    key={1}\r\n            />\r\n        );\r\n        if(this.state.showNumber) {\r\n            children.push(\r\n                <text x='50%' y='70%'\r\n                      dominantBaseline='middle'\r\n                      textAnchor='middle'\r\n                      fill={'white'}\r\n                      fontSize={'0.8em'}\r\n                      className={'svg-text'}\r\n                      opacity={this.props.opacity + 0.3}\r\n                      key={2}\r\n                >\r\n                    {this.props.cost}\r\n                </text>\r\n            );\r\n        }\r\n        return (\r\n            <svg x={dimensions.left} y={dimensions.top}\r\n                 width={dimensions.width} height={dimensions.width}>\r\n                {children}\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WeightFg;","import React, {RefObject} from 'react';\r\nimport './Grid.css';\r\nimport {createTile, Point, Tile, TileData} from '../../pathfinding/core/Components';\r\nimport RectGrid, {Grid} from '../../pathfinding/core/Grid';\r\nimport SolidFg from './SolidFg';\r\nimport WeightFg from './WeightFg';\r\n\r\ninterface IProps {\r\n    tileWidth: number,\r\n    tilesX: number,\r\n    tilesY: number,\r\n    onTilesDragged: () => void,\r\n    topMargin: number,\r\n    weightOpacity: number\r\n}\r\n\r\ninterface IState {\r\n    grid: Grid,\r\n    initial: Point,\r\n    goal: Point,\r\n    path: Tile[]\r\n}\r\n\r\nconst SOLID_COLOR = 'rgb(45, 48, 54)';\r\nconst INITIAL_COLOR = 'rgb(131, 217, 52)';\r\nconst GOAL_COLOR = 'rgb(203, 75, 14)';\r\nconst ARROW_PATH_COLOR = 'rgb(73, 79, 250)';\r\n\r\nconst BASE_WIDTH = 27;\r\n\r\nclass GridForeground extends React.Component<IProps,IState>\r\n{\r\n    private svg: RefObject<SVGSVGElement> = React.createRef();\r\n\r\n    private tilePointer: TileData;\r\n\r\n    private drawing: boolean = false;\r\n    private erasing: boolean = false;\r\n    private draggingInitial: boolean = false;\r\n    private draggingGoal: boolean = false;\r\n    private disable: boolean = false;\r\n\r\n    private doTileAnimation: boolean = true;\r\n\r\n    private readonly width: number;\r\n    private readonly height: number;\r\n\r\n    /**\r\n     * Constructs a GridForeground with immutable height and width\r\n     * @param props\r\n     */\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.width = this.props.tilesX;\r\n        this.height = this.props.tilesY;\r\n        const end = this.calcEndPointInView();\r\n        this.tilePointer = createTile(true);\r\n        this.state = {\r\n            grid: new RectGrid(this.width, this.height),\r\n            path: [],\r\n            initial: {\r\n                x: ((end.x)/3) >> 0,\r\n                y: ((end.y)/3) >> 0\r\n            },\r\n            goal: {\r\n                x: ((2*(end.x)/3) >> 0) - 1,\r\n                y: ((2*(end.y)/3) >> 0) - 1\r\n            }\r\n        }\r\n    }\r\n\r\n    changeTile = (data: TileData) => {\r\n        this.tilePointer = data;\r\n    }\r\n\r\n    calcEndPointInView() {\r\n        const xEnd = Math.round(window.innerWidth / this.props.tileWidth);\r\n        const yEnd = Math.round((window.innerHeight - this.props.topMargin - 30) / this.props.tileWidth);\r\n        return {\r\n            x: xEnd, y: yEnd\r\n        }\r\n    }\r\n\r\n    toggleDisable() {\r\n        this.disable = !this.disable;\r\n    }\r\n\r\n    getBoundingRect() {\r\n        return this.svg.current!.getBoundingClientRect();\r\n    }\r\n\r\n    private mouseDown = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        const bounds = this.getBoundingRect();\r\n        this.onPress(e.clientX - bounds.left, e.clientY - bounds.top, e.button);\r\n    }\r\n\r\n    private mouseUp = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        if(isControlKey(e.button)) {\r\n            this.draggingGoal = false;\r\n            this.draggingInitial = false;\r\n            this.drawing = false;\r\n            this.erasing = false;\r\n        }\r\n    }\r\n\r\n    private mouseMove = (e: MouseEvent) => {\r\n        const bounds = this.getBoundingRect();\r\n        this.onDrag(e.clientX - bounds.left, e.clientY - bounds.top);\r\n    }\r\n\r\n    private touchStart = (e: TouchEvent) => {\r\n        const touch = e.touches[0] || e.changedTouches[0];\r\n        const bounds = this.getBoundingRect();\r\n        this.onPress(touch.clientX - bounds.left, touch.clientY - bounds.top, 0);\r\n    }\r\n\r\n    private touchMove = (e: TouchEvent) => {\r\n        const touch = e.touches[0] || e.changedTouches[0];\r\n        const bounds = this.getBoundingRect();\r\n        this.onDrag(touch.clientX - bounds.left, touch.clientY - bounds.top);\r\n    }\r\n\r\n    private onEndingEvent = (e: Event) => {\r\n        e.preventDefault();\r\n        this.draggingGoal = false;\r\n        this.draggingInitial = false;\r\n        this.drawing = false;\r\n        this.erasing = false;\r\n    }\r\n\r\n    /**\r\n     * Responds to the event thrown at screen coordinates on press\r\n     * @param xCoordinate\r\n     * @param yCoordinate\r\n     * @param button\r\n     */\r\n    private onPress = (xCoordinate: number, yCoordinate: number, button: number) => {\r\n        const point = this.calculatePoint(xCoordinate,yCoordinate);\r\n        if(isControlKey(button)) {\r\n            if(pointsEqual(point, this.state.initial)) {\r\n                this.draggingInitial = true;\r\n            } else if(pointsEqual(point, this.state.goal)) {\r\n                this.draggingGoal = true;\r\n            } else if(!this.disable) {\r\n                if(this.state.grid.isEmpty(point)) {\r\n                    this.drawing = true;\r\n                    this.drawTile(point);\r\n                } else {\r\n                    this.erasing = true;\r\n                    this.eraseTile(point);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Responds to the event thrown at screen coordinates on drag/move\r\n     * @param xCoordinate\r\n     * @param yCoordinate\r\n     */\r\n    private onDrag = (xCoordinate: number, yCoordinate: number) => {\r\n        const point = this.calculatePoint(xCoordinate,yCoordinate);\r\n        if(this.draggingInitial) {\r\n            this.moveInitial(point);\r\n        } else if(this.draggingGoal) {\r\n            this.moveGoal(point);\r\n        } else if(!pointsEqual(point, this.state.initial)\r\n            && !pointsEqual(point, this.state.goal) && !this.disable)\r\n        {\r\n            if(this.drawing) {\r\n                this.drawTile(point);\r\n            } else if(this.erasing) {\r\n                this.eraseTile(point);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Draw an entire new grid on the foreground with disabled animations\r\n     * @param grid\r\n     */\r\n    drawGrid = (grid: Grid) => {\r\n        this.doTileAnimation = false;\r\n        this.setState({\r\n            grid: grid\r\n        }, () => this.doTileAnimation = true)\r\n    }\r\n\r\n    /**\r\n     * Draw tile at point\r\n     * @param point\r\n     */\r\n    drawTile = (point: Point) => {\r\n        const grid = this.state.grid.clone();\r\n        if(grid.inBounds(point)) {\r\n            grid.mutateTile({\r\n                point: point,\r\n                data: this.tilePointer\r\n            });\r\n        }\r\n        this.setState({\r\n            grid: grid\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Checks if a node is visualized, then changes the tile to empty if it isn't\r\n     * @param point\r\n     */\r\n    eraseTile = (point: Point) => {\r\n        const grid = this.state.grid.clone();\r\n        if(grid.inBounds(point)) {\r\n            grid.mutateDefault(point, false);\r\n        }\r\n        this.setState({\r\n            grid: grid\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Clear grid in state\r\n     */\r\n    clearTiles = () => {\r\n        const grid = this.state.grid.clone();\r\n        for(let y = 0; y < this.height; y++) {\r\n            for(let x = 0; x < this.width; x++) {\r\n                const point = {\r\n                    x: x, y: y\r\n                }\r\n                grid.mutateDefault(point, false);\r\n            }\r\n        }\r\n        this.setState({\r\n            grid: grid\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Moves initial to a new point\r\n     * @param point\r\n     */\r\n    moveInitial = (point: Point) => {\r\n        if(this.canMoveEndPoint(point)) {\r\n            this.setState({\r\n                initial: point\r\n            }, () => this.props.onTilesDragged());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Moves goal to a new point\r\n     * @param point\r\n     */\r\n    moveGoal = (point: Point) => {\r\n        if(this.canMoveEndPoint(point)) {\r\n            this.setState({\r\n                goal: point\r\n            }, () => this.props.onTilesDragged());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if we can move any of the end points (goal or initial) to that point\r\n     * @param point\r\n     */\r\n    canMoveEndPoint = (point: Point) => {\r\n        return this.state.grid.inBounds(point)\r\n            && !this.state.grid.isSolid(point)\r\n            && !pointsEqual(this.state.initial, point)\r\n            && !pointsEqual(this.state.goal, point)\r\n            && !this.disable;\r\n    }\r\n\r\n    /**\r\n     * Draw a path onto the grid\r\n     * @param path\r\n     */\r\n    drawPath = (path: Tile[]) => {\r\n        this.setState({\r\n            path: path.slice()\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Erase path from the grid\r\n     */\r\n    erasePath = () => {\r\n        this.setState({\r\n            path: []\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Converts real screen x,y coordinates into\r\n     * a 2d point position on the grid\r\n     * @param xCoordinate\r\n     * @param yCoordinate\r\n     */\r\n    calculatePoint = (xCoordinate: number, yCoordinate: number) => {\r\n        return {\r\n            x: Math.floor(xCoordinate/this.props.tileWidth),\r\n            y: Math.floor(yCoordinate/this.props.tileWidth)\r\n        }\r\n    }\r\n\r\n    resetPoints = () => {\r\n        const end = this.calcEndPointInView();\r\n        this.setState({\r\n            initial: {\r\n                x: ((end.x)/3) >> 0,\r\n                y: ((end.y)/3) >> 0\r\n            },\r\n            goal: {\r\n                x: ((2*(end.x)/3) >> 0) - 1,\r\n                y: ((2*(end.y)/3) >> 0) - 1\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <svg ref={this.svg} xmlns='http://www.w3.org/2000/svg' className='grid'\r\n                 onContextMenu={e => e.preventDefault()}\r\n                 onMouseDown={e => this.mouseDown(e.nativeEvent)}\r\n                 onMouseUp={e => this.mouseUp(e.nativeEvent)}\r\n                 onMouseMove={e => this.mouseMove(e.nativeEvent)}\r\n                 onMouseLeave={e => this.onEndingEvent(e.nativeEvent)}\r\n                 onTouchStart={e => this.touchStart(e.nativeEvent)}\r\n                 onTouchMoveCapture={e => this.touchMove(e.nativeEvent)}\r\n                 onTouchEnd={e => this.onEndingEvent(e.nativeEvent)}\r\n                 onTouchCancel={e => this.onEndingEvent(e.nativeEvent)}\r\n            >\r\n                <defs>\r\n                    <marker id='arrowhead-path' markerWidth='3' markerHeight='3'\r\n                            refX='0' refY='1.5' orient='auto'\r\n                            fill={ARROW_PATH_COLOR}\r\n                    >\r\n                        <polygon points='0 0, 3 1.5, 0 3'/>\r\n                    </marker>\r\n                </defs>\r\n                {this.renderEndTile(this.state.initial, INITIAL_COLOR,'initial')}\r\n                {this.renderEndTile(this.state.goal, GOAL_COLOR,'goal')}\r\n                {this.renderPath()}\r\n                {this.renderTiles()}\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    private renderPath = () => {\r\n        const lines: JSX.Element[] = [];\r\n        for(let i = 0; i < this.state.path.length-1; i++) {\r\n            const first = this.state.path[i].point;\r\n            const second = this.state.path[i+1].point;\r\n            lines.push(this.renderPathArrow(i, first, second));\r\n        }\r\n        return lines;\r\n    }\r\n\r\n    private renderPathArrow = (index: number, first: Point, second: Point) => {\r\n        const width = this.props.tileWidth;\r\n        const offset = width/2;\r\n        const firstX = first.x * width;\r\n        const firstY = first.y * width;\r\n        const secondX = second.x * width;\r\n        const secondY = second.y * width;\r\n        const offsetX = (secondX - firstX)/4;\r\n        const offsetY = (secondY - firstY)/4;\r\n        return (\r\n            <line key={'path ' + index}\r\n                  x1={firstX + offset + offsetX}\r\n                  y1={firstY + offset + offsetY}\r\n                  x2={secondX + offset - offsetX}\r\n                  y2={secondY + offset - offsetY}\r\n                  stroke={ARROW_PATH_COLOR}\r\n                  strokeWidth={2 * this.props.tileWidth/BASE_WIDTH}\r\n                  className='line'\r\n                  markerEnd='url(#arrowhead-path)' />\r\n        );\r\n    }\r\n\r\n    private renderTiles = () => {\r\n        const tiles: JSX.Element[] = [];\r\n        for(let y = 0; y < this.height; y++) {\r\n            for(let x = 0; x < this.width; x++) {\r\n                const point = {\r\n                    x: x, y: y\r\n                }\r\n                const cost = this.state.grid.get(point).data.pathCost;\r\n                if(this.state.grid.isSolid(point)) {\r\n                    tiles.push(\r\n                        <SolidFg key={point.x + ',' + point.y} point={point}\r\n                                 doAnimation={this.doTileAnimation}\r\n                                 tileWidth={this.props.tileWidth}\r\n                                 color={SOLID_COLOR}\r\n                        />\r\n                    );\r\n                } else if(cost > 1) {\r\n                    tiles.push(\r\n                        <WeightFg key={point.x + ',' + point.y} point={point}\r\n                                  doAnimation={this.doTileAnimation}\r\n                                  tileWidth={this.props.tileWidth}\r\n                                  color={SOLID_COLOR}\r\n                                  cost={cost}\r\n                                  opacity={this.props.weightOpacity}\r\n                        />\r\n                    );\r\n                }\r\n            }\r\n        }\r\n        return tiles;\r\n    }\r\n\r\n    private renderEndTile = (point: Point, color: string, key: string) => {\r\n        return <SolidFg key={key} point={point} doAnimation={false}\r\n                        tileWidth={this.props.tileWidth}\r\n                        color={color}/>\r\n    }\r\n}\r\n\r\nfunction pointsEqual(point1: Point, point2: Point) {\r\n    return point1.x === point2.x && point1.y === point2.y;\r\n}\r\n\r\nfunction isControlKey(button: number) {\r\n    //right or left mouse\r\n    return button === 0 || button === 2;\r\n}\r\n\r\nexport default GridForeground;","import React, {RefObject} from 'react';\r\nimport './Grid.css';\r\n\r\ninterface IProps {\r\n    algorithm: string,\r\n    length: number,\r\n    cost: number,\r\n    time: number,\r\n    nodes: number\r\n}\r\n\r\nclass StatsPanel extends React.Component<IProps>\r\n{\r\n    private readonly textLog: RefObject<HTMLTextAreaElement> = React.createRef();\r\n\r\n    componentDidUpdate() {\r\n        this.textLog.current!.scrollTop = this.textLog.current!.scrollHeight;\r\n    }\r\n\r\n    getHeight() {\r\n        //top border: 1\r\n        return this.textLog.current!.clientHeight + 1;\r\n    }\r\n\r\n    render() {\r\n        const time = precise(this.props.time);\r\n        const text = this.props.algorithm === '' ? '' :\r\n            this.props.algorithm +\r\n            ' visited ' +\r\n            this.props.nodes +\r\n            ' nodes in ' +\r\n            time +\r\n            ' ms. Path length = ' +\r\n            this.props.length +\r\n            '. Path cost = ' +\r\n            this.props.cost +\r\n            '. ';\r\n        return(\r\n            <textarea tabIndex={-1} ref={this.textLog} readOnly={true}\r\n                      className='stats-text-area no-select'\r\n                      value={text} unselectable={'on'} onDrop={() => false}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nfunction precise(x: number) {\r\n    return x.toFixed(2);\r\n}\r\n\r\nexport default StatsPanel;","import {Point, Tile} from './Components';\r\nimport Navigator, {UNIT} from './Navigator';\r\n\r\n/**\r\n * Concretion of a Plus Navigator for a grid\r\n * Allows movement akin to a 'plus' symbol\r\n */\r\nclass PlusNavigator extends Navigator\r\n{\r\n    /**\r\n     * Adds the neighbors of a point to the left, right, top and down\r\n     * @param point\r\n     */\r\n    neighbors(point: Point): Tile[] {\r\n        const tiles: Tile[] = [];\r\n        if(point.x + UNIT < this.grid.getWidth()) {\r\n            const tile = this.grid.get({\r\n                x: point.x + UNIT,\r\n                y: point.y\r\n            })\r\n            if(!tile.data.isSolid) {\r\n                tiles.push(tile);\r\n            }\r\n        }\r\n        if(point.y + UNIT < this.grid.getHeight()) {\r\n            const tile = this.grid.get({\r\n                x: point.x,\r\n                y: point.y + UNIT\r\n            });\r\n            if(!tile.data.isSolid) {\r\n                tiles.push(tile);\r\n            }\r\n        }\r\n        if(point.x - UNIT >= 0) {\r\n            const tile = this.grid.get({\r\n                x: point.x - UNIT,\r\n                y: point.y\r\n            });\r\n            if(!tile.data.isSolid) {\r\n                tiles.push(tile);\r\n            }\r\n        }\r\n        if(point.y - UNIT >= 0) {\r\n            const tile = this.grid.get({\r\n                x: point.x,\r\n                y: point.y - UNIT\r\n            });\r\n            if(!tile.data.isSolid) {\r\n                tiles.push(tile);\r\n            }\r\n        }\r\n        return tiles;\r\n    }\r\n\r\n    /**\r\n     * Step cost function that works by getting the pathCost stored in the grid\r\n     * from one point a to b\r\n     * @param a\r\n     * @param b to point to travel to\r\n     */\r\n    cost(a: Point, b: Point) {\r\n        return this.grid.get(b).data.pathCost;\r\n    }\r\n\r\n    getType() {\r\n        return 'plus';\r\n    }\r\n}\r\n\r\nexport default PlusNavigator;","import {Grid} from './Grid';\r\nimport {Point, Tile} from './Components';\r\n\r\nexport const UNIT = 1; //number of tiles we can move at once\r\n\r\n/**\r\n * Describes an abstract navigator for a grid\r\n * Provides graph-like traversal for the grid\r\n * Determines where we can travel to from a certain point,\r\n * whether we have reached a destination, and the cost to\r\n * travel to a certain point\r\n */\r\nabstract class Navigator\r\n{\r\n    protected readonly grid: Grid;\r\n\r\n    constructor(grid: Grid) {\r\n        this.grid = grid;\r\n    }\r\n\r\n    getGrid() {\r\n        return this.grid;\r\n    }\r\n\r\n    /**\r\n     * Goal check function: Checks if two points are equal\r\n     * @param a\r\n     * @param b\r\n     */\r\n    equals(a: Point, b: Point) {\r\n        return a.x === b.x && a.y === b.y;\r\n    }\r\n\r\n    /**\r\n     * Step cost function from a to b\r\n     * @param a\r\n     * @param b to point to travel to\r\n     */\r\n    abstract cost(a: Point, b: Point): number;\r\n\r\n    /**\r\n     * Neighbors function: Gets the available neighbors for a point in a grid we can make\r\n     * in a given move\r\n     * @param point\r\n     */\r\n    abstract neighbors(point: Point): Tile[];\r\n\r\n    abstract getType(): string;\r\n}\r\n\r\nexport default Navigator;","import {Point} from '../core/Components';\r\n\r\nexport type HeuristicFunc = (a: Point, b: Point) => number;\r\n\r\nexport function manhattan(a: Point, b: Point): number {\r\n    const dx = Math.abs(a.x - b.x) ;\r\n    const dy = Math.abs(a.y - b.y);\r\n    return dx + dy;\r\n}\r\n\r\nexport function euclidean(a: Point, b: Point): number {\r\n    const dx = Math.abs(a.x - b.x);\r\n    const dy = Math.abs(a.y - b.y);\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\n\r\nexport function octile(a: Point, b: Point): number {\r\n    const dx = Math.abs(a.x - b.x);\r\n    const dy = Math.abs(a.y - b.y);\r\n    return Math.SQRT2 * Math.min(dx, dy) + Math.abs(dx - dy);\r\n}\r\n\r\nexport function chebyshev(a: Point, b: Point): number {\r\n    const dx = Math.abs(a.x - b.x);\r\n    const dy = Math.abs(a.y - b.y);\r\n    return Math.max(dx, dy);\r\n}\r\n\r\nexport function nullHeuristic(): number {\r\n    return 0;\r\n}","import {Point} from '../core/Components';\r\n\r\n/**\r\n * A simple data structure that keeps track of whether keys have been added to it\r\n */\r\nexport class HashSet\r\n{\r\n    private map: {[key: string]: boolean | undefined} = {};\r\n\r\n    add(key: string) {\r\n        this.map[key] = true;\r\n    }\r\n\r\n    remove(key: string) {\r\n        this.map[key] = undefined;\r\n    }\r\n\r\n    has(key: string) {\r\n        return this.map[key] !== undefined;\r\n    }\r\n\r\n    clear() {\r\n        this.map = {};\r\n    }\r\n}\r\n\r\n/**\r\n * A simple data structure that stores a type at a key\r\n */\r\nexport class HashTable<Value>\r\n{\r\n    private map: {[key: string]: Value | undefined} = {};\r\n\r\n    add(key: string, data: Value) {\r\n        this.map[key] = data;\r\n    }\r\n\r\n    remove(key: string) {\r\n        this.map[key] = undefined;\r\n    }\r\n\r\n    get(key: string) {\r\n        return this.map[key];\r\n    }\r\n\r\n    has(key: string) {\r\n        return this.map[key] !== undefined;\r\n    }\r\n\r\n    clear() {\r\n        this.map = {};\r\n    }\r\n}\r\n\r\n/**\r\n * Serialize point into a unique string\r\n * @param point\r\n */\r\nexport function stringify(point: Point) {\r\n    return 'x' + point.x + 'y' + point.y;\r\n}","/**\r\n * A compare function to determine if a is 'better' (deserves a higher position) than b\r\n */\r\nexport type Comparator<E> = (a: E, b: E) => boolean\r\n\r\n/**\r\n * Minimalist Implementation of the heap data structure as an array\r\n */\r\nclass Heap<E>\r\n{\r\n    private elements: E[] = [];\r\n    readonly compare: Comparator<E>;\r\n\r\n    constructor(compare: Comparator<E>) {\r\n        this.compare = compare;\r\n    }\r\n\r\n    /**\r\n     * Returns the size of the heap\r\n     */\r\n    getSize() {\r\n        return this.elements.length;\r\n    }\r\n\r\n    /**\r\n     * Checks if heap is empty\r\n     */\r\n    isEmpty() {\r\n        return this.elements.length === 0;\r\n    }\r\n\r\n    /**\r\n     * Add a new element to the heap\r\n     * @param e\r\n     */\r\n    push(e: E) {\r\n        this.elements.push(e);\r\n        this.siftUp(this.elements.length-1); //last element\r\n    }\r\n\r\n    /**\r\n     * Returns the top of the heap without removing it\r\n     * Fails if heap is empty\r\n     */\r\n    peek() {\r\n        return this.elements[0];\r\n    }\r\n\r\n    /**\r\n     * Returns the top of the heap and removes it\r\n     * Fails if heap is empty\r\n     */\r\n    pop() {\r\n        const val = this.peek();\r\n        this.move(this.elements.length - 1, 0);\r\n        this.elements.pop();\r\n        this.siftDown(0);\r\n        return val;\r\n    }\r\n\r\n    /**\r\n     * Clear the heap\r\n     */\r\n    clear() {\r\n        this.elements = [];\r\n    }\r\n\r\n    /**\r\n     * Sifts a new element that is out of order up to the right position\r\n     * @param pos of new element\r\n     */\r\n    private siftUp(pos: number) {\r\n        let parent = ((pos - 1) / 2) >> 0; //integer division\r\n        while(parent >= 0) {\r\n            //if the current position is better than parent\r\n            if(this.compare(this.elements[pos], this.elements[parent])) {\r\n                //then current position with parent and move to next\r\n                this.swap(pos, parent);\r\n                pos = parent;\r\n                parent = ((pos - 1) / 2) >> 0;\r\n            } else {\r\n                //otherwise stop\r\n                parent = -1;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sifts a new element that is out of order down to the right position\r\n     * @param pos of new element\r\n     */\r\n    private siftDown(pos: number) {\r\n        const left = 2 * pos + 1;\r\n        const right = 2 * pos + 2;\r\n        //stop if the children are out of bounds\r\n        if(left >= this.elements.length) {\r\n            return;\r\n        }\r\n        //find the better child\r\n        const child = (right >= this.elements.length || this.compare(this.elements[left], this.elements[right]))\r\n            ? left : right;\r\n        //continues to sift down if the child is better than the current position\r\n        if(this.compare(this.elements[child], this.elements[pos])) {\r\n            this.swap(child, pos);\r\n            this.siftDown(child);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Internal move function\r\n     * @param from\r\n     * @param to\r\n     */\r\n    private move(from: number, to: number) {\r\n        this.elements[to] = this.elements[from];\r\n    }\r\n\r\n    /**\r\n     * Internal swap function\r\n     * @param a\r\n     * @param b\r\n     */\r\n    private swap(a: number, b: number) {\r\n        let val = this.elements[a];\r\n        this.elements[a] = this.elements[b];\r\n        this.elements[b] = val;\r\n    }\r\n}\r\n\r\nexport default Heap;","import {Point, Tile} from '../core/Components';\r\nimport Navigator from '../core/Navigator';\r\nimport {Node} from './Node';\r\n\r\n/**\r\n * Pathfinder performs algorithms operations on the grid\r\n * Uses the navigator rank and expand nodes\r\n */\r\nabstract class Pathfinder\r\n{\r\n    protected recentSearch: Node[] = [];\r\n    protected navigator: Navigator;\r\n\r\n    constructor(navigator: Navigator) {\r\n        this.navigator = navigator;\r\n    }\r\n\r\n    setNavigator(navigator: Navigator) {\r\n        this.navigator = navigator;\r\n    }\r\n\r\n    getNavigator() {\r\n        return this.navigator;\r\n    }\r\n\r\n    getRecentNodes() {\r\n        return this.recentSearch.length;\r\n    }\r\n\r\n    clearRecentSearch() {\r\n        this.recentSearch = [];\r\n    }\r\n\r\n    getRecentGenerations() {\r\n        return this.recentSearch.slice();\r\n    }\r\n\r\n    protected addRecent(node: Node) {\r\n        this.recentSearch.push(node);\r\n    }\r\n\r\n    abstract getAlgorithmName(): string;\r\n\r\n    /**\r\n     * Finds the best path between initial and goal on the grid\r\n     * and returns it in an array\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    abstract findPath(initial: Point, goal: Point): Tile[];\r\n}\r\n\r\n/**\r\n * Reconstructs the path from a tree, given the bottomLeaf, and\r\n * returns the shortest path in an array\r\n * @param bottomLeaf bottom of the tree to start from\r\n */\r\nexport function reconstructPath(bottomLeaf: Node): Tile[] {\r\n    return reconstructPathReversed(bottomLeaf).reverse();\r\n}\r\n\r\n/**\r\n * Reconstructs the path from a tree, given the bottomLeaf, and\r\n * returns the shortest path in an array\r\n * @param bottomLeaf bottom of the tree to start from\r\n */\r\nexport function reconstructPathReversed(bottomLeaf: Node): Tile[] {\r\n    const path: Tile[] = [];\r\n    while(bottomLeaf.parent !== null) {\r\n        path.push(bottomLeaf.tile);\r\n        bottomLeaf = bottomLeaf.parent;\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default Pathfinder;","import {Tile} from '../core/Components';\r\n\r\n/**\r\n * Represents a search Tree Node\r\n */\r\nexport class Node\r\n{\r\n    parent: Node | null = null; //parent node\r\n    readonly children: Node[] = [];\r\n    readonly tile: Tile; //stores a graph node\r\n\r\n    constructor(tile: Tile) {\r\n        this.tile = tile;\r\n    }\r\n\r\n    addChild(child: Node) {\r\n        child.parent = this;\r\n        this.children.push(child);\r\n    }\r\n}\r\n\r\n/**\r\n * Represents an heuristic weighted aStar search tree node\r\n */\r\nexport class AStarNode extends Node\r\n{\r\n    readonly g: number; //path cost\r\n    readonly fScore: number; //heuristic\r\n\r\n    constructor(tile: Tile, g: number, fScore: number) {\r\n        super(tile);\r\n        this.g = g;\r\n        this.fScore = fScore;\r\n    }\r\n\r\n    f() {\r\n        return this.fScore;\r\n    }\r\n}\r\n","import {HashSet, HashTable, stringify} from '../structures/Hash';\r\nimport Heap from '../structures/Heap';\r\nimport Pathfinder, {reconstructPath} from './Pathfinder';\r\nimport {Point, Tile} from '../core/Components';\r\nimport {AStarNode} from './Node';\r\nimport Navigator from '../core/Navigator';\r\nimport {euclidean, HeuristicFunc} from './Heuristics';\r\n\r\nclass AStarPathfinder extends Pathfinder\r\n{\r\n    private readonly heuristic: HeuristicFunc = (a: Point, b: Point) => euclidean(a,b);\r\n\r\n    constructor(navigator: Navigator, func?: HeuristicFunc) {\r\n        super(navigator);\r\n        if(func !== undefined) {\r\n            this.heuristic = func;\r\n        }\r\n    }\r\n\r\n    getAlgorithmName(): string {\r\n        return 'A*';\r\n    }\r\n\r\n    /**\r\n     * Performs aStar algorithm on the grid given an initial and goal point\r\n     * Always returns the shortest path, and performs well on larger grids\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    findPath(initial: Point, goal: Point): Tile[] {\r\n        this.clearRecentSearch();\r\n        const grid = this.navigator.getGrid();\r\n        const openFrontier = new Heap<AStarNode>(\r\n            (a, b) => a.f() < b.f()\r\n        );\r\n        const closedSet = new HashSet();\r\n        const openSet = new HashTable<number>();\r\n        const root = new AStarNode(\r\n            grid.get(initial), 0, 0\r\n        );\r\n        openFrontier.push(root);\r\n        openSet.add(stringify(initial), root.g);\r\n        while (!openFrontier.isEmpty()) {\r\n            const currentNode = openFrontier.pop();\r\n            const currentPoint = currentNode.tile.point;\r\n            const currentKey = stringify(currentPoint);\r\n            openSet.remove(currentKey);\r\n            closedSet.add(currentKey);\r\n            this.addRecent(currentNode);\r\n            if (this.navigator.equals(currentPoint, goal)) {\r\n                return reconstructPath(currentNode);\r\n            }\r\n            for (const neighbor of this.navigator.neighbors(currentPoint)) {\r\n                const neighborPoint = neighbor.point;\r\n                const neighborKey = stringify(neighborPoint);\r\n                if(closedSet.has(neighborKey)) {\r\n                    continue;\r\n                }\r\n                const g = currentNode.g + this.stepCost(currentPoint, neighborPoint);\r\n                const f = g + this.heuristic(neighborPoint, goal);\r\n                if (!openSet.has(neighborKey) || g < openSet.get(neighborKey)!) {\r\n                    const neighborNode = new AStarNode(\r\n                        neighbor, g, f\r\n                    );\r\n                    currentNode.addChild(neighborNode);\r\n                    openFrontier.push(neighborNode);\r\n                    openSet.add(neighborKey, neighborNode.g);\r\n                }\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n\r\n    /**\r\n     * The step-cost function to be used, calculating the cost from\r\n     * currentPoint to neighborPoint. Uses the stepCost function provided by the\r\n     * navigator by default but can be overridden\r\n     * @param currentPoint\r\n     * @param neighborPoint\r\n     */\r\n    stepCost(currentPoint: Point, neighborPoint: Point) {\r\n        return this.navigator.cost(currentPoint, neighborPoint);\r\n    }\r\n}\r\n\r\nexport default AStarPathfinder;","import Pathfinder, {reconstructPath} from './Pathfinder';\r\nimport {Point, Tile} from '../core/Components';\r\nimport {HashSet, stringify} from '../structures/Hash';\r\nimport {Node} from './Node';\r\n\r\nclass BFSPathfinder extends Pathfinder\r\n{\r\n    getAlgorithmName(): string {\r\n        return 'Breadth First Search';\r\n    }\r\n\r\n    /**\r\n     * Implementation of BFS to find the shortest path from initial to point\r\n     * Doesn't always return the shortest path, and performs poorly on larger grids\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    findPath(initial: Point, goal: Point): Tile[] {\r\n        this.clearRecentSearch();\r\n        const grid = this.navigator.getGrid();\r\n        const frontier: Node[] = []; //fifo, stores nodes on the frontier\r\n        const visited = new HashSet();\r\n        const root = new Node(grid.get(initial));\r\n        frontier.push(root); //enqueue\r\n        visited.add(stringify(initial));\r\n        while(frontier.length !== 0) { //not empty\r\n            const currentNode = frontier.shift()!; //dequeue\r\n            const currentPoint = currentNode.tile.point;\r\n            this.addRecent(currentNode);\r\n            if(this.navigator.equals(currentPoint, goal)) {\r\n                return reconstructPath(currentNode);\r\n            }\r\n            for(const neighbor of this.navigator.neighbors(currentPoint)) {\r\n                const neighborKey = stringify(neighbor.point);\r\n                if(!visited.has(neighborKey)) {\r\n                    const neighborNode = new Node(neighbor);\r\n                    currentNode.addChild(neighborNode);\r\n                    frontier.push(neighborNode); //enqueue\r\n                    visited.add(neighborKey);\r\n                }\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nexport default BFSPathfinder;","/**\r\n * Stack node\r\n */\r\nclass Node<E>\r\n{\r\n    next: Node<E> | null = null;\r\n    data: E;\r\n\r\n    constructor(data: E) {\r\n        this.data = data;\r\n    }\r\n}\r\n\r\n/**\r\n * Minimalist Implementation of the stack data structure\r\n */\r\nclass Stack<E>\r\n{\r\n    private top: Node<E> | null = null;\r\n    private size: number = 0;\r\n\r\n    peek() {\r\n        return this.top != null ? this.top.data : undefined;\r\n    }\r\n\r\n    push(e: E) {\r\n        const node = new Node(e);\r\n        node.next = this.top;\r\n        this.top = node;\r\n        this.size++;\r\n    }\r\n\r\n    pop() {\r\n        const top = this.peek();\r\n        if(this.top != null) {\r\n            this.top = this.top.next;\r\n            this.size--;\r\n        }\r\n        return top;\r\n    }\r\n\r\n    isEmpty() {\r\n        return this.size === 0;\r\n    }\r\n\r\n    getSize() {\r\n        return this.size;\r\n    }\r\n}\r\n\r\nexport default Stack;","import Pathfinder, {reconstructPath} from './Pathfinder';\r\nimport {Point, Tile} from '../core/Components';\r\nimport {HashSet, stringify} from '../structures/Hash';\r\nimport {Node} from './Node';\r\nimport Stack from '../structures/Stack';\r\n\r\nclass DFSPathfinder extends Pathfinder\r\n{\r\n    getAlgorithmName(): string {\r\n        return 'Depth First Search';\r\n    }\r\n\r\n    /**\r\n     * Calls DFS between a start and goal point, will typically not find the 'Best' path,\r\n     * and will instead find the best path capable for the algorithm\r\n     * As this algorithm is non optimal it should only be used for educational purposes\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    findPath(initial: Point, goal: Point): Tile[] {\r\n        this.clearRecentSearch();\r\n        const grid = this.navigator.getGrid();\r\n        const root = new Node(grid.get(initial));\r\n        const frontier = new Stack<Node>();\r\n        frontier.push(root);\r\n        const visited = new HashSet();\r\n        while(!frontier.isEmpty()) {\r\n            const currentNode = frontier.pop()!;\r\n            const currentPoint = currentNode.tile.point;\r\n            visited.add(stringify(currentPoint));\r\n            this.addRecent(currentNode);\r\n            if(this.navigator.equals(currentPoint, goal)) {\r\n                return reconstructPath(currentNode);\r\n            }\r\n            const neighbors = this.navigator.neighbors(currentPoint).reverse();\r\n            for(const neighbor of neighbors){\r\n                const neighborKey = stringify(neighbor.point);\r\n                if(!visited.has(neighborKey)) {\r\n                    const neighborNode = new Node(neighbor);\r\n                    currentNode.addChild(neighborNode);\r\n                    frontier.push(neighborNode);\r\n                }\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nexport default DFSPathfinder;\r\n","import {HashSet, HashTable, stringify} from '../structures/Hash';\r\nimport Heap from '../structures/Heap';\r\nimport Pathfinder, {reconstructPath, reconstructPathReversed} from './Pathfinder';\r\nimport {Point, Tile} from '../core/Components';\r\nimport {AStarNode} from './Node';\r\nimport Navigator from '../core/Navigator';\r\nimport {euclidean, HeuristicFunc} from './Heuristics';\r\n\r\ninterface ControlStructures {\r\n    openSet: HashTable<AStarNode>,\r\n    closedSet: HashSet,\r\n    openFrontier: Heap<AStarNode>\r\n}\r\n\r\nclass BiAStarPathfinder extends Pathfinder\r\n{\r\n    private readonly heuristic: HeuristicFunc = (a: Point, b: Point) => euclidean(a,b);\r\n\r\n    constructor(navigator: Navigator, func?: HeuristicFunc) {\r\n        super(navigator);\r\n        if(func !== undefined) {\r\n            this.heuristic = func;\r\n        }\r\n    }\r\n\r\n    getAlgorithmName(): string {\r\n        return 'Bidirectional A*';\r\n    }\r\n\r\n    /**\r\n     * Performs aStar algorithm on the grid given an initial and goal point\r\n     * Doesn't always returns the shortest path, but performs well on larger grids\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    findPath(initial: Point, goal: Point): Tile[] {\r\n        this.clearRecentSearch();\r\n        const grid = this.navigator.getGrid();\r\n        const closedSet = new HashSet();\r\n        const startOpenFrontier = new Heap<AStarNode>(\r\n            (a, b) => a.f() < b.f()\r\n        );\r\n        const startOpenSet = new HashTable<AStarNode>();\r\n        const endOpenFrontier = new Heap<AStarNode>(\r\n            (a, b) => a.f() < b.f()\r\n        );\r\n        const endOpenSet = new HashTable<AStarNode>();\r\n        const initialRoot = new AStarNode(\r\n            grid.get(initial), 0, 0\r\n        );\r\n        startOpenFrontier.push(initialRoot);\r\n        startOpenSet.add(stringify(initial), initialRoot);\r\n        const goalRoot = new AStarNode(\r\n            grid.get(goal), 0, 0\r\n        );\r\n        endOpenFrontier.push(goalRoot);\r\n        endOpenSet.add(stringify(goal), goalRoot);\r\n        while (!startOpenFrontier.isEmpty() && !endOpenFrontier.isEmpty()) {\r\n            //expand startOpenFrontier\r\n            const startCurrentNode = startOpenFrontier.pop();\r\n            const startCurrentPoint = startCurrentNode.tile.point;\r\n            const startCurrentPointKey = stringify(startCurrentPoint);\r\n            startOpenSet.remove(startCurrentPointKey);\r\n            closedSet.add(startCurrentPointKey);\r\n            this.addRecent(startCurrentNode);\r\n            if(endOpenSet.has(startCurrentPointKey)) {\r\n                if(startCurrentNode.parent != null) {\r\n                    return reconstructPath(\r\n                        startCurrentNode.parent\r\n                    ).concat(reconstructPathReversed(\r\n                        endOpenSet.get(startCurrentPointKey)!\r\n                    )).concat(\r\n                        grid.get(goal)\r\n                    );\r\n                } else {\r\n                    return [grid.get(goal)];\r\n                }\r\n            }\r\n            this.doAStarExpansion({\r\n                openFrontier: startOpenFrontier,\r\n                openSet: startOpenSet,\r\n                closedSet: closedSet\r\n            }, startCurrentNode, goal);\r\n            //expand endOpenFrontier\r\n            const endCurrentNode = endOpenFrontier.pop();\r\n            const endCurrentPoint = endCurrentNode.tile.point;\r\n            const endCurrentPointKey = stringify(endCurrentPoint);\r\n            endOpenSet.remove(endCurrentPointKey);\r\n            closedSet.add(endCurrentPointKey);\r\n            this.addRecent(endCurrentNode);\r\n            if(startOpenSet.has(endCurrentPointKey)) {\r\n                if(endCurrentNode.parent != null) {\r\n                    return reconstructPath(\r\n                        startOpenSet.get(endCurrentPointKey)!\r\n                    ).concat(reconstructPathReversed(\r\n                        endCurrentNode.parent!\r\n                    )).concat(\r\n                        grid.get(goal)\r\n                    );\r\n                } else {\r\n                    return [grid.get(goal)];\r\n                }\r\n            }\r\n            this.doAStarExpansion({\r\n                openFrontier: endOpenFrontier,\r\n                openSet: endOpenSet,\r\n                closedSet: closedSet\r\n            }, endCurrentNode, initial);\r\n        }\r\n        return [];\r\n    }\r\n\r\n    private doAStarExpansion(structures: ControlStructures, currentNode: AStarNode, endPoint: Point) {\r\n        const currentPoint = currentNode.tile.point;\r\n        for (const neighbor of this.navigator.neighbors(currentPoint)) {\r\n            const neighborPoint = neighbor.point;\r\n            const neighborKey = stringify(neighborPoint);\r\n            if(structures.closedSet.has(neighborKey)) {\r\n                continue;\r\n            }\r\n            const g = currentNode.g + this.stepCost(currentPoint, neighborPoint);\r\n            const f = g + this.heuristic(neighborPoint, endPoint);\r\n            if (!structures.openSet.has(neighborKey) || g < structures.openSet.get(neighborKey)!.g) {\r\n                const neighborNode = new AStarNode(\r\n                    neighbor, g, f\r\n                );\r\n                currentNode.addChild(neighborNode);\r\n                structures.openFrontier.push(neighborNode);\r\n                structures.openSet.add(neighborKey, neighborNode);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The step-cost function to be used, calculating the cost from\r\n     * currentPoint to neighborPoint. Uses the stepCost function provided by the\r\n     * navigator by default but can be overridden\r\n     * @param currentPoint\r\n     * @param neighborPoint\r\n     */\r\n    stepCost(currentPoint: Point, neighborPoint: Point) {\r\n        return this.navigator.cost(currentPoint, neighborPoint);\r\n    }\r\n}\r\n\r\nexport default BiAStarPathfinder;","import Pathfinder, {reconstructPath, reconstructPathReversed} from './Pathfinder';\r\nimport {Point, Tile} from '../core/Components';\r\nimport {HashTable, stringify} from '../structures/Hash';\r\nimport {Node} from './Node';\r\n\r\ninterface ControlStructures {\r\n    frontier: Node[],\r\n    visited: HashTable<Node>\r\n}\r\n\r\nclass BiBFSPathfinder extends Pathfinder\r\n{\r\n    getAlgorithmName(): string {\r\n        return 'Bidirectional Breadth First Search';\r\n    }\r\n\r\n    /**\r\n     * Implementation of BFS to find the shortest path from initial to point\r\n     * Doesn't always return the shortest path, and performs poorly on larger grids\r\n     * @param initial\r\n     * @param goal\r\n     */\r\n    findPath(initial: Point, goal: Point): Tile[] {\r\n        this.clearRecentSearch();\r\n        const grid = this.navigator.getGrid();\r\n        const startVisited = new HashTable<Node>();\r\n        const endVisited = new HashTable<Node>();\r\n        const startFrontier: Node[] = [];\r\n        const endFrontier: Node[] = [];\r\n        const initialRoot = new Node(grid.get(initial));\r\n        startFrontier.push(initialRoot);\r\n        startVisited.add(stringify(initial), initialRoot);\r\n        const goalRoot = new Node(grid.get(goal));\r\n        endFrontier.push(goalRoot);\r\n        endVisited.add(stringify(goal), goalRoot);\r\n        while(startFrontier.length !== 0 && endFrontier.length !== 0) {\r\n            //expand startQueue\r\n            const startCurrentNode = startFrontier.shift()!;\r\n            const startCurrentPoint = startCurrentNode.tile.point;\r\n            const startCurrentPointKey = stringify(startCurrentPoint);\r\n            this.addRecent(startCurrentNode);\r\n            if(endVisited.has(startCurrentPointKey)) {\r\n                if(startCurrentNode.parent != null) {\r\n                    return reconstructPath(\r\n                        startCurrentNode.parent\r\n                    ).concat(reconstructPathReversed(\r\n                        endVisited.get(startCurrentPointKey)!\r\n                    )).concat(\r\n                        grid.get(goal)\r\n                    );\r\n                } else {\r\n                    return [grid.get(goal)];\r\n                }\r\n            }\r\n            this.doBFSExpansion({\r\n                frontier: startFrontier,\r\n                visited: startVisited\r\n            }, startCurrentNode);\r\n            //expand endQueue\r\n            const endCurrentNode = endFrontier.shift()!;\r\n            const endCurrentPoint = endCurrentNode.tile.point;\r\n            const endCurrentPointKey = stringify(endCurrentPoint);\r\n            this.addRecent(endCurrentNode);\r\n            if(startVisited.has(endCurrentPointKey)) {\r\n                if(endCurrentNode.parent != null) {\r\n                    return reconstructPath(\r\n                        startVisited.get(endCurrentPointKey)!\r\n                    ).concat(reconstructPathReversed(\r\n                        endCurrentNode.parent\r\n                    )).concat(\r\n                        grid.get(goal)\r\n                    );\r\n                } else {\r\n                    return [grid.get(goal)];\r\n                }\r\n            }\r\n            this.doBFSExpansion({\r\n                frontier: endFrontier,\r\n                visited: endVisited\r\n            }, endCurrentNode);\r\n        }\r\n        return [];\r\n    }\r\n\r\n    private doBFSExpansion(structures: ControlStructures, currentNode: Node) {\r\n        const currentPoint = currentNode.tile.point;\r\n        for(const neighbor of this.navigator.neighbors(currentPoint)) {\r\n            const neighborKey = stringify(neighbor.point);\r\n            if(!structures.visited.has(neighborKey)) {\r\n                const neighborNode = new Node(neighbor);\r\n                currentNode.addChild(neighborNode);\r\n                structures.frontier.push(neighborNode);\r\n                structures.visited.add(neighborKey, neighborNode);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default BiBFSPathfinder;","import Navigator from '../core/Navigator';\r\nimport PlusNavigator from '../core/PlusNavigator';\r\nimport {Point} from '../core/Components';\r\nimport {Grid} from '../core/Grid';\r\nimport {chebyshev, euclidean, HeuristicFunc, manhattan, nullHeuristic, octile} from './Heuristics';\r\nimport Pathfinder from './Pathfinder';\r\nimport AStarPathfinder from './AStar';\r\nimport BFSPathfinder from './BFS';\r\nimport DFSPathfinder from './DFS';\r\nimport BiAStarPathfinder from './BidirectionalAStar';\r\nimport BiBFSPathfinder from \"./BidirectionalBFS\";\r\n\r\nconst CREATE_NAVIGATOR: {[key: string]: ((grid: Grid) => Navigator)} = {\r\n    'plus': (grid: Grid) => new PlusNavigator(grid),\r\n}\r\n\r\nconst CREATE_HEURISTIC: {[key: string]: (() => HeuristicFunc)} = {\r\n    'manhattan': () => manhattan,\r\n    'euclidean': () => euclidean,\r\n    'chebyshev': () => chebyshev,\r\n    'octile': () => octile,\r\n    'null': () => nullHeuristic\r\n}\r\n\r\nconst CREATE_PATHFINDER: {[key: string]: ((navigator: Navigator, heuristic: HeuristicFunc) => Pathfinder)} = {\r\n    'dijkstra': (navigator) => {\r\n        return new (class DijkstraPathfinder extends AStarPathfinder {\r\n            getAlgorithmName(): string {\r\n                return 'Dijkstra';\r\n            }\r\n        })(navigator, nullHeuristic);\r\n    },\r\n    'best-first': (navigator, heuristic) => {\r\n        return new (class BestFirstPathfinder extends AStarPathfinder {\r\n            stepCost(currentPoint: Point, neighborPoint: Point) {\r\n                return 0;\r\n            }\r\n            getAlgorithmName(): string {\r\n                return 'Best-First Search';\r\n            }\r\n        })(navigator, heuristic);\r\n    },\r\n    'a*': (navigator, heuristic) => {\r\n        return new AStarPathfinder(navigator, heuristic);\r\n    },\r\n    'bfs': (navigator) => {\r\n        return new BFSPathfinder(navigator);\r\n    },\r\n    'dfs': (navigator) => {\r\n        return new DFSPathfinder(navigator);\r\n    },\r\n    'bi-a*': (navigator, heuristic) => {\r\n        return new BiAStarPathfinder(navigator, heuristic);\r\n    },\r\n    'bi-dijkstra': (navigator) => {\r\n        return new (class BiDijkstraPathfinder extends BiAStarPathfinder {\r\n            getAlgorithmName(): string {\r\n                return 'Bidirectional Dijkstra';\r\n            }\r\n        })(navigator, nullHeuristic);\r\n    },\r\n    'bi-bfs': (navigator) => {\r\n        return new BiBFSPathfinder(navigator);\r\n    }\r\n}\r\n\r\nclass PathfinderBuilder\r\n{\r\n    private navigator: string = 'plus';\r\n    private algorithm: string = 'a*';\r\n    private heuristic: string = 'null';\r\n    private readonly grid: Readonly<Grid>;\r\n\r\n    constructor(grid: Readonly<Grid>) {\r\n        this.grid = grid;\r\n    }\r\n\r\n    setNavigator(navigator: string) {\r\n        navigator = navigator.toLowerCase();\r\n        if(CREATE_NAVIGATOR[navigator] == null) {\r\n            throw new Error('No such navigator pattern exists')\r\n        } else {\r\n            this.navigator = navigator;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setAlgorithm(algorithm: string) {\r\n        algorithm = algorithm.toLowerCase();\r\n        if(CREATE_PATHFINDER[algorithm] == null) {\r\n            throw new Error('No such pathfinding algorithm exists')\r\n        } else {\r\n            this.algorithm = algorithm;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setHeuristic(heuristic: string) {\r\n        heuristic = heuristic.toLowerCase();\r\n        if(CREATE_HEURISTIC[heuristic] == null) {\r\n            throw new Error('No such heuristic function exists')\r\n        } else {\r\n            this.heuristic = heuristic;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Builds a pathfinder with a navigator with the set algorithm, heuristic, and navigator\r\n     */\r\n    build() {\r\n        const createHeuristic = CREATE_HEURISTIC[this.heuristic];\r\n        const createNavigator = CREATE_NAVIGATOR[this.navigator];\r\n        const createPathfinder = CREATE_PATHFINDER[this.algorithm];\r\n        return createPathfinder(createNavigator(this.grid), createHeuristic());\r\n    }\r\n\r\n    static usesHeuristic(algorithm: string) {\r\n        return algorithm === 'a*' || algorithm === 'bi-a*' ||\r\n            algorithm === 'best-first';\r\n    }\r\n\r\n    static hasBidirectional(algorithm: string) {\r\n        return CREATE_PATHFINDER['bi-' + algorithm] != null;\r\n    }\r\n\r\n    static makeBidirectional(algorithm: string) {\r\n        return 'bi-' + algorithm;\r\n    }\r\n}\r\n\r\nexport default PathfinderBuilder;\r\n\r\n","class VirtualTimer\r\n{\r\n    private timeout: NodeJS.Timeout;\r\n    private readonly callback: () => void\r\n    private timeStarted: number;\r\n    private timeRemaining: number;\r\n    private finished: boolean;\r\n\r\n    constructor(callback: () => void, countDown: number) {\r\n        this.callback = callback;\r\n        this.finished = false;\r\n        this.timeStarted = Date.now();\r\n        this.timeRemaining = countDown;\r\n        this.timeout = setTimeout(() => {\r\n            callback();\r\n            this.finished = true;\r\n        }, this.timeRemaining);\r\n    }\r\n\r\n    clear() {\r\n        clearTimeout(this.timeout);\r\n        this.finished = true;\r\n    }\r\n\r\n    pause() {\r\n        if(!this.finished) {\r\n            clearTimeout(this.timeout);\r\n            this.timeRemaining -= Date.now() - this.timeStarted;\r\n        }\r\n    }\r\n\r\n    resume() {\r\n        if(!this.finished) {\r\n            this.timeStarted = Date.now();\r\n            this.timeout = setTimeout(() => {\r\n                this.callback();\r\n                this.finished = true;\r\n            }, this.timeRemaining);\r\n        }\r\n    }\r\n\r\n    isFinished() {\r\n        return this.finished;\r\n    }\r\n\r\n    getNativeTimeout() {\r\n        return this.timeout;\r\n    }\r\n}\r\n\r\nexport default VirtualTimer;","import {createTile, Point, Tile, TileData} from '../core/Components';\r\nimport {Grid} from '../core/Grid';\r\nimport {HashSet, stringify} from '../structures/Hash';\r\n\r\nabstract class TerrainGenerator\r\n{\r\n    protected readonly width: number;\r\n    protected readonly height: number;\r\n    protected readonly ignore: HashSet;\r\n    protected readonly data: TileData;\r\n\r\n    protected constructor(width: number, height: number, data?: TileData, ignore?: Point[]) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.ignore = new HashSet();\r\n        if(data !== undefined) {\r\n            this.data = data;\r\n        } else {\r\n            this.data = createTile(true);\r\n        }\r\n        if(ignore !== undefined) {\r\n            for(const i of ignore) {\r\n                this.ignore.add(stringify(i));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Draws a tile to the grid\r\n     * @param grid\r\n     * @param tile\r\n     */\r\n    protected draw(grid: Grid, tile: Tile) {\r\n        if(!this.shouldIgnore(tile.point)) {\r\n            grid.mutateTile(tile);\r\n        }\r\n    }\r\n\r\n    protected getTerrain() {\r\n        return this.data;\r\n    }\r\n\r\n    protected shouldIgnore(point: Point) {\r\n        return this.ignore.has(stringify(point));\r\n    }\r\n\r\n    abstract generateTerrain(topLeft?: Point, bottomRight?: Point): Grid;\r\n}\r\n\r\nexport default TerrainGenerator;","import TerrainGenerator from './TerrainGenerator';\r\nimport {Point, TileData} from '../core/Components';\r\nimport RectGrid, {Grid} from '../core/Grid';\r\n\r\nclass RandomTerrainGenerator extends TerrainGenerator\r\n{\r\n    // eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n    constructor(width: number, height: number, tileData?: TileData, ignore?: Point[]) {\r\n        super(width, height, tileData, ignore);\r\n    }\r\n\r\n    /**\r\n     * Performs a random terrain generation algorithm where each tile has a 1/4\r\n     * chance of being solid\r\n     * @param topLeft optional parameter to specify what point the terrain should start from\r\n     *  This should not be further up/left than (1,1)\r\n     * @param bottomRight optional parameter to specify how far down and right the terrain will go\r\n     *  This should not be further right/down than (width-2,height-2)\r\n     */\r\n    generateTerrain(topLeft?: Point, bottomRight?: Point): Grid {\r\n        const grid = new RectGrid(this.width, this.height);\r\n        if(topLeft === undefined) {\r\n            topLeft = {\r\n                x: 1, y: 1\r\n            }\r\n        }\r\n        if(bottomRight === undefined) {\r\n            bottomRight = {\r\n                x: grid.getWidth()-2,\r\n                y: grid.getHeight()-2\r\n            }\r\n        }\r\n        for(let x = topLeft.x - 1; x <= bottomRight.x + 1; x++) {\r\n            for(let y = topLeft.y - 1; y <= bottomRight.y + 1; y++) {\r\n                if(getRand(0, 3) === 0) {\r\n                    this.draw(grid,{\r\n                        point: {\r\n                            x: x, y: y\r\n                        },\r\n                        data: this.getTerrain()\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return grid;\r\n    }\r\n}\r\n\r\n/**\r\n * Generate a random number between min and max, inclusive for min and max\r\n * @param min\r\n * @param max\r\n */\r\nfunction getRand(min: number, max: number) {\r\n    return Math.floor(Math.random() * (max+1-min) + min);\r\n}\r\n\r\nexport default RandomTerrainGenerator;","import RectGrid, {Grid} from '../core/Grid';\r\nimport {Point, Tile, createTile, TileData} from '../core/Components';\r\nimport TerrainGenerator from './TerrainGenerator';\r\n\r\nconst LIMIT = 2;\r\n\r\nexport const NO_SKEW = 0;\r\nexport const VERTICAL_SKEW = 1;\r\nexport const HORIZONTAL_SKEW = 2;\r\n\r\ninterface Chamber {\r\n    topLeft: Point; //min\r\n    bottomRight: Point; //max\r\n}\r\n\r\nclass MazeGenerator extends TerrainGenerator\r\n{\r\n    private readonly divideWidth: (width: number, height: number) => boolean;\r\n\r\n    constructor(width: number, height: number, tileData?: TileData, ignore?: Point[], slant?: number) {\r\n        super(width, height, tileData, ignore);\r\n        if(slant === undefined || slant === NO_SKEW) {\r\n            this.divideWidth = divideWidthNoSkew;\r\n        } else if(slant === VERTICAL_SKEW) {\r\n            this.divideWidth = divideWidthVSkew;\r\n        } else if(slant === HORIZONTAL_SKEW) {\r\n            this.divideWidth = divideWidthHSkew;\r\n        } else {\r\n            throw new Error(\"Invalid recursive maze division skew type\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Performs the recursive division maze generation algorithm on a new empty grid\r\n     * by bisecting parts until the maze can no longer be bisected\r\n     * Params must be within bounds and create a chamber\r\n     * @param topLeft optional parameter to specify what point the maze should start from\r\n     *  This should not be further up/left than (1,1)\r\n     * @param bottomRight optional parameter to specify how far down and right the maze will go\r\n     *  This should not be further right/down than (width-2,height-2)\r\n     */\r\n    generateTerrain(topLeft?: Point, bottomRight?: Point) {\r\n        const grid = new RectGrid(this.width, this.height);\r\n        if(topLeft === undefined) {\r\n            topLeft = {\r\n                x: 1, y: 1\r\n            }\r\n        }\r\n        if(bottomRight === undefined) {\r\n            bottomRight = {\r\n                x: grid.getWidth()-2,\r\n                y: grid.getHeight()-2\r\n            }\r\n        }\r\n        for(let x = topLeft.x - 1; x <= bottomRight.x + 1; x++) {\r\n            this.draw(grid,{\r\n                point: {\r\n                    x: x, y: topLeft.y - 1\r\n                },\r\n                data: this.getTerrain()\r\n            });\r\n            this.draw(grid,{\r\n                point: {\r\n                    x: x, y: bottomRight.y + 1\r\n                },\r\n                data: this.getTerrain()\r\n            });\r\n        }\r\n        for(let y = topLeft.y - 1; y <= bottomRight.y + 1; y++) {\r\n            this.draw(grid,{\r\n                point: {\r\n                    x: topLeft.x - 1, y: y\r\n                },\r\n                data: this.getTerrain()\r\n            });\r\n            this.draw(grid,{\r\n                point: {\r\n                    x: bottomRight.x + 1, y: y\r\n                },\r\n                data: this.getTerrain()\r\n            });\r\n        }\r\n        this.divide(grid,{\r\n            topLeft: topLeft,\r\n            bottomRight: bottomRight,\r\n        });\r\n        return grid;\r\n    }\r\n\r\n    /**\r\n     * Draws a list of tiles to the grid\r\n     * @param grid\r\n     * @param tiles\r\n     */\r\n    private drawArr(grid: Grid, tiles: Tile[]) {\r\n        for(const tile of tiles) {\r\n            this.draw(grid, tile);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create a line between a region, with an open hole, in a chamber,\r\n     * and call bisection algorithm on it, and call division algorithms on\r\n     * its split chambers until no chambers can be bisected\r\n     * @param grid\r\n     * @param chamber\r\n     */\r\n    divide(grid: Grid, chamber: Chamber) {\r\n        const width = widthOf(chamber);\r\n        const height = heightOf(chamber);\r\n        const min = chamber.topLeft;\r\n        const max = chamber.bottomRight;\r\n        if(this.divideWidth(width,height)) {\r\n            if(width > LIMIT) {\r\n                //calculate axis\r\n                const randX = getMidPoint(\r\n                    min.x, max.x\r\n                );\r\n                //create axis wall\r\n                const toDraw: Tile[] = [];\r\n                for(let y = min.y; y <= max.y; y++) {\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: randX, y: y\r\n                        },\r\n                        data: this.getTerrain()\r\n                    });\r\n                }\r\n                //create holes in axis wall\r\n                let edgeBlocked = false;\r\n                if(canDrawHole(grid.get({\r\n                    x: randX, y: min.y-1\r\n                }))) {\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: randX, y: min.y\r\n                        },\r\n                        data: createTile(false)\r\n                    });\r\n                    edgeBlocked = true;\r\n                }\r\n                if(canDrawHole(grid.get({\r\n                    x: randX, y: max.y+1\r\n                }))) {\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: randX, y: max.y\r\n                        },\r\n                        data: createTile(false)\r\n                    });\r\n                    edgeBlocked = true;\r\n                }\r\n                if(!edgeBlocked) {\r\n                    const randY = getRand(\r\n                        min.y, max.y,\r\n                    );\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: randX, y: randY\r\n                        },\r\n                        data: createTile(false)\r\n                    });\r\n                }\r\n                this.drawArr(grid, toDraw);\r\n                //create children chambers and recurse\r\n                const leftChamber = {\r\n                    topLeft: chamber.topLeft,\r\n                    bottomRight: {\r\n                        x: randX-1,\r\n                        y: chamber.bottomRight.y\r\n                    },\r\n                };\r\n                const rightChamber = {\r\n                    topLeft: {\r\n                        x: randX+1,\r\n                        y: chamber.topLeft.y\r\n                    },\r\n                    bottomRight: chamber.bottomRight,\r\n                };\r\n                this.divide(grid, leftChamber);\r\n                this.divide(grid, rightChamber);\r\n            }\r\n        } else {\r\n            if(height > LIMIT) {\r\n                //calculate axis\r\n                const randY = getMidPoint(\r\n                    min.y, max.y\r\n                );\r\n                //draw axis wall\r\n                const toDraw: Tile[] = [];\r\n                for(let x = min.x; x <= max.x; x++) {\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: x, y: randY\r\n                        },\r\n                        data: this.getTerrain()\r\n                    });\r\n                }\r\n                //create holes in axis wall\r\n                let edgeBlocked = false;\r\n                if(canDrawHole(grid.get({\r\n                    x: min.x-1, y: randY\r\n                }))) {\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: min.x, y: randY\r\n                        },\r\n                        data: createTile(false)\r\n                    });\r\n                    edgeBlocked = true;\r\n                }\r\n                if(canDrawHole(grid.get({\r\n                    x: max.x+1, y: randY\r\n                }))) {\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: max.x, y: randY\r\n                        },\r\n                        data: createTile(false)\r\n                    });\r\n                    edgeBlocked = true;\r\n                }\r\n                if(!edgeBlocked) {\r\n                    const randX = getRand(\r\n                        min.x, max.x,\r\n                    );\r\n                    toDraw.push({\r\n                        point: {\r\n                            x: randX, y: randY\r\n                        },\r\n                        data: createTile(false)\r\n                    });\r\n                }\r\n                this.drawArr(grid, toDraw);\r\n                //create children chambers and recurse\r\n                const topChamber = {\r\n                    topLeft: chamber.topLeft,\r\n                    bottomRight: {\r\n                        x: chamber.bottomRight.x,\r\n                        y: randY-1\r\n                    },\r\n                };\r\n                const bottomChamber = {\r\n                    topLeft: {\r\n                        x: chamber.topLeft.x,\r\n                        y: randY+1\r\n                    },\r\n                    bottomRight: chamber.bottomRight,\r\n                };\r\n                this.divide(grid, topChamber);\r\n                this.divide(grid, bottomChamber);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction divideWidthNoSkew(width: number, height: number) {\r\n    return width >= height;\r\n}\r\n\r\nfunction divideWidthHSkew(width: number, height: number) {\r\n    return width >= height * 2;\r\n}\r\n\r\nfunction divideWidthVSkew(width: number, height: number) {\r\n    return width * 2 >= height;\r\n}\r\n\r\nfunction widthOf(chamber: Chamber) {\r\n    return chamber.bottomRight.x - chamber.topLeft.x + 1;\r\n}\r\n\r\nfunction heightOf(chamber: Chamber) {\r\n    return chamber.bottomRight.y - chamber.topLeft.y + 1;\r\n}\r\n\r\nfunction canDrawHole(tile: Tile) {\r\n    return tile.data.pathCost === 1 && !tile.data.isSolid;\r\n}\r\n\r\n/**\r\n * Returns the 'midpoint' to be used\r\n * @param min\r\n * @param max\r\n */\r\nfunction getMidPoint(min: number, max: number) {\r\n    const range = max - min;\r\n    if(range >= 20) {\r\n        return ((min+max)/2) >> 0;\r\n    } else if(range > 5) {\r\n        const mid = ((min+max)/2) >> 0;\r\n        const points = [mid, mid+1];\r\n        return points[getRand(0,points.length-1)];\r\n    } else {\r\n        return getRand(min+1,max-1);\r\n    }\r\n}\r\n\r\n/**\r\n * Generate a random number between min and max, inclusive for min and max\r\n * @param min\r\n * @param max\r\n */\r\nfunction getRand(min: number, max: number) {\r\n    return Math.floor(Math.random() * (max+1-min) + min);\r\n}\r\n\r\nexport default MazeGenerator;","import RandomTerrainGenerator from './RandomTerrainGenerator';\r\nimport MazeGenerator from './MazeGenerator';\r\nimport {createTile, Point, TileData} from '../core/Components';\r\n\r\nexport const MAZE = 0;\r\nexport const MAZE_VERTICAL_SKEW = 1;\r\nexport const MAZE_HORIZONTAL_SKEW = 2;\r\nexport const RANDOM_TERRAIN = 3;\r\n\r\nclass TerrainGeneratorBuilder\r\n{\r\n    private width: number = 0;\r\n    private height: number = 0;\r\n    private type: number = MAZE;\r\n    private ignore: Point[] = [];\r\n    private data: TileData = createTile(true);\r\n\r\n    setDimensions(width: number, height: number) {\r\n        this.width = width;\r\n        this.height = height;\r\n        return this;\r\n    }\r\n\r\n    setGeneratorType(type: number) {\r\n        this.type = type;\r\n        return this;\r\n    }\r\n\r\n    setIgnorePoints(ignore: Point[]) {\r\n        this.ignore = ignore.slice();\r\n        return this;\r\n    }\r\n\r\n    setTileData(data: TileData) {\r\n        this.data = data;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Builds a terrain generator with the specified type\r\n     */\r\n    build() {\r\n       if(this.type >= RANDOM_TERRAIN) {\r\n           return new RandomTerrainGenerator(this.width, this.height, this.data, this.ignore);\r\n       } else {\r\n           return new MazeGenerator(this.width, this.height, this.data, this.ignore, this.type);\r\n       }\r\n    }\r\n}\r\n\r\nexport default TerrainGeneratorBuilder;","import React, {RefObject} from 'react';\r\nimport './Grid.css';\r\nimport GridBackground from './GridBackground';\r\nimport GridForeground from './GridForeground';\r\nimport StatsPanel from './StatsPanel';\r\nimport {Node} from '../../pathfinding/algorithms/Node';\r\nimport PathfindingSettings from '../PathfindingSettings';\r\nimport PathfinderBuilder from '../../pathfinding/algorithms/PathfinderBuilder';\r\nimport Pathfinder from '../../pathfinding/algorithms/Pathfinder';\r\nimport {createTile, Point, Tile, TileData} from '../../pathfinding/core/Components';\r\nimport {euclidean} from '../../pathfinding/algorithms/Heuristics';\r\nimport VirtualTimer from '../utility/VirtualTimer';\r\nimport TerrainGeneratorBuilder, {RANDOM_TERRAIN} from '../../pathfinding/algorithms/TerrainGeneratorBuilder';\r\n\r\ninterface IProps {\r\n    tileWidth: number,\r\n    settings: Readonly<PathfindingSettings>,\r\n    topMargin: number,\r\n    onChangeVisualizing: (visualizing: boolean) => void;\r\n}\r\n\r\ninterface IState {\r\n    time: number,\r\n    length: number,\r\n    cost: number,\r\n    nodes: number,\r\n    algorithm: string,\r\n    weightOpacity: number\r\n}\r\n\r\nclass PathfindingVisualizer extends React.Component<IProps,IState>\r\n{\r\n    //references to expose background and foreground grids to parent\r\n    private background: RefObject<GridBackground> = React.createRef();\r\n    private foreground: RefObject<GridForeground> = React.createRef();\r\n    private stats: RefObject<StatsPanel> = React.createRef();\r\n\r\n    private visualized = false;\r\n    private visualizing = false;\r\n    private visualTimeouts: VirtualTimer[]  = [];\r\n    private generations: Node[] = [];\r\n\r\n    private mazeTile: TileData = createTile(true);\r\n\r\n    private readonly tilesX: number;\r\n    private readonly tilesY: number;\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        const w = window.screen.availWidth - (window.outerWidth - window.innerWidth);\r\n        const h = window.screen.availHeight - (window.outerHeight - window.innerHeight);\r\n        this.tilesX = Math.floor(w / this.props.tileWidth) + 1;\r\n        this.tilesY = Math.floor((h - this.props.topMargin - 30) / this.props.tileWidth) + 1;\r\n        this.state = {\r\n            time: -1,\r\n            length: -1,\r\n            cost: -1,\r\n            nodes: -1,\r\n            algorithm: '',\r\n            weightOpacity: 1\r\n        }\r\n    }\r\n\r\n    changeTile = (data: TileData) => {\r\n        //uncomment this to enable weighted mazes\r\n        // this.mazeTile = data;\r\n        this.foreground.current!.changeTile(data);\r\n    }\r\n\r\n    canShowArrows = () => {\r\n        const settings = this.props.settings;\r\n        return settings.showArrows && settings.algorithm !== 'dfs';\r\n    }\r\n\r\n    canShowFrontier = () => {\r\n        const settings = this.props.settings;\r\n        return settings.visualizeAlg;\r\n    }\r\n\r\n    /**\r\n     * Pause the delayed pathfinding algorithm being performed\r\n     */\r\n    pausePathfinding = () => {\r\n        for(const timeout of this.visualTimeouts) {\r\n            timeout.pause();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Resume the delayed pathfinding algorithm being performed\r\n     * Will reset the timeouts to the last time the timeout was paused/started\r\n     * if not properly called while the timeout is paused\r\n     */\r\n    resumePathfinding = () => {\r\n        for(const timeout of this.visualTimeouts) {\r\n            timeout.resume();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Performs the pathfinding algorithm on the grid and visualizes it\r\n     */\r\n    doPathfinding = () => {\r\n        this.clearPath();\r\n        const settings = this.props.settings;\r\n        const pathfinder = this.getPathfinder(settings);\r\n        const path = this.findPath(pathfinder);\r\n        this.generations = pathfinder.getRecentGenerations();\r\n        if(this.canShowArrows()) {\r\n            this.addArrowGenerations(this.generations);\r\n        }\r\n        if(this.canShowFrontier()) {\r\n            this.visualizeGenerations(this.generations);\r\n        }\r\n        this.drawPath(path);\r\n    }\r\n\r\n    /**\r\n     * Performs the pathfinding algorithm on the grid and visualizes it with delays between successive\r\n     * node generations\r\n     * If the visualizer is currently visualizing, the visualization stops instead\r\n     */\r\n    doDelayedPathfinding = () => {\r\n        this.clearVisualization();\r\n        this.clearPath();\r\n        const settings = this.props.settings;\r\n        this.visualized = false;\r\n        const foreground = this.foreground.current!;\r\n        foreground.toggleDisable();\r\n        if(!this.visualizing) { //start visualization if not visualizing\r\n            this.visualizing = true;\r\n            this.props.onChangeVisualizing(this.visualizing);\r\n            const pathfinder = this.getPathfinder(settings);\r\n            const path = this.findPath(pathfinder);\r\n            const promises: Promise<VirtualTimer>[] = []; //to call function when timeouts finish\r\n            this.visualTimeouts = [];\r\n            const baseIncrement = settings.delayInc;\r\n            let delay = 0;\r\n            const visualizeAlg = this.canShowFrontier();\r\n            const showArrows = this.canShowArrows();\r\n            if(showArrows || visualizeAlg) {\r\n                const expandVisualization = visualizeAlg ? this.visualizeGeneration : () => {};\r\n                const expandArrows = showArrows ? this.addArrowGeneration : () => {};\r\n                this.generations = pathfinder.getRecentGenerations();\r\n                this.generations.forEach((generation) => {\r\n                    const promise = new Promise<VirtualTimer>((resolve) => {\r\n                        //each generation gets a higher timeout\r\n                        const timeout = new VirtualTimer(() => {\r\n                            expandArrows(generation);\r\n                            expandVisualization(generation);\r\n                            resolve(timeout);\r\n                        }, delay);\r\n                        this.visualTimeouts.push(timeout);\r\n                    });\r\n                    promises.push(promise);\r\n                    delay += baseIncrement;\r\n                });\r\n            }\r\n            //call functions when timeouts finish\r\n            Promise.all(promises).then(() => {\r\n                this.drawPath(path);\r\n                foreground.toggleDisable();\r\n                this.visualizing = false;\r\n                this.visualized = true;\r\n                this.props.onChangeVisualizing(this.visualizing);\r\n            });\r\n        } else { //stop visualizing if visualizing\r\n            for (const timeout of this.visualTimeouts) {\r\n                timeout.clear();\r\n            }\r\n            this.visualizing = false;\r\n            this.props.onChangeVisualizing(this.visualizing);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the pathfinder for the settings\r\n     * @param settings\r\n     */\r\n    private getPathfinder = (settings: PathfindingSettings) => {\r\n        const algorithmKey = settings.algorithm;\r\n        const algorithm = settings.bidirectional && PathfinderBuilder.hasBidirectional(algorithmKey) ?\r\n            PathfinderBuilder.makeBidirectional(algorithmKey) : algorithmKey;\r\n        return new PathfinderBuilder(this.foreground.current!.state.grid)\r\n            .setAlgorithm(algorithm)\r\n            .setHeuristic(settings.heuristicKey)\r\n            .setNavigator(settings.navigatorKey)\r\n            .build();\r\n    }\r\n\r\n    /**\r\n     * Find path with a given pathfinder, includes benchmarking\r\n     * @param pathfinder\r\n     */\r\n    private findPath = (pathfinder: Pathfinder) => {\r\n        const foreground = this.foreground.current!;\r\n        const t0 = performance.now();\r\n        const path = pathfinder.findPath(foreground.state.initial, foreground.state.goal);\r\n        const t1 = performance.now();\r\n        const t2 = (t1 - t0);\r\n        this.setState({\r\n            time: t2,\r\n            nodes: pathfinder.getRecentNodes(),\r\n            length: calcLength(foreground.state.initial, path),\r\n            cost: calcCost(foreground.state.grid.get(foreground.state.initial), path),\r\n            algorithm: pathfinder.getAlgorithmName()\r\n        });\r\n        return path;\r\n    }\r\n\r\n    /**\r\n     * Draw path on the grid and change length on ui\r\n     * @param path\r\n     */\r\n    private drawPath = (path: Tile[]) => {\r\n        const foreground = this.foreground.current!\r\n        path.unshift(this.foreground.current!.state.grid.get(foreground.state.initial));\r\n        this.foreground.current!.drawPath(path);\r\n    }\r\n\r\n    /**\r\n     * Called when child foreground moves a tile\r\n     */\r\n    private onTilesDragged = () => {\r\n        if(this.visualized) {\r\n            this.clearVisualization();\r\n            this.doPathfinding();\r\n            this.visualized = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create terrain on the grid foreground\r\n     */\r\n    createTerrain = (mazeType: number) => {\r\n        if(this.visualizing) {\r\n            return;\r\n        }\r\n        this.clearTiles();\r\n        this.clearPath();\r\n        this.clearVisualization();\r\n        const foreground = this.foreground.current!;\r\n        const end = this.calcEndPointInView();\r\n        const newState = (mazeType !== RANDOM_TERRAIN) ? {\r\n            initial: {\r\n                x: 1, y: 1\r\n            },\r\n            goal: {\r\n                x: end.x-2, y: end.y-2\r\n            }\r\n        } : {\r\n            initial: {\r\n                x: 1, y: ((end.y-1) / 2) >> 0\r\n            },\r\n            goal: {\r\n                x: end.x-2, y: ((end.y-1) / 2) >> 0\r\n            }\r\n        };\r\n        foreground.setState(newState,() => {\r\n            const prevGrid = foreground.state.grid;\r\n            const generator = new TerrainGeneratorBuilder()\r\n                .setDimensions(\r\n                    prevGrid.getWidth(),\r\n                    prevGrid.getHeight()\r\n                )\r\n                .setGeneratorType(mazeType)\r\n                .setIgnorePoints([foreground.state.initial, foreground.state.goal])\r\n                .setTileData(this.mazeTile)\r\n                .build();\r\n            const topLeft = {\r\n                x: 1, y: 1\r\n            };\r\n            const bottomRight = {\r\n                x: end.x-2, y: end.y-2\r\n            };\r\n            const grid = generator.generateTerrain(topLeft, bottomRight);\r\n            foreground.drawGrid(grid);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Calculate the end/goal point in view of the screen\r\n     */\r\n    calcEndPointInView = () => {\r\n        const xEnd = window.innerWidth / this.props.tileWidth;\r\n        const yEnd = (window.innerHeight - this.props.topMargin\r\n            - this.stats.current!.getHeight()) / this.props.tileWidth;\r\n        const xFloor = Math.floor(xEnd);\r\n        const yFloor = Math.floor(yEnd);\r\n        const xDecimal = xEnd - xFloor;\r\n        const yDecimal = yEnd - yFloor;\r\n        let x = xDecimal > 0.05 ? Math.ceil(xEnd) : xFloor;\r\n        let y = yDecimal > 0.05 ? Math.ceil(yEnd) : yFloor;\r\n        if(x > this.tilesX) {\r\n            x = this.tilesX\r\n        }\r\n        if(y > this.tilesY) {\r\n            y = this.tilesY\r\n        }\r\n        return {\r\n            x: x, y: y\r\n        }\r\n    }\r\n\r\n    resetPoints = () => {\r\n        if(!this.visualizing) {\r\n            this.foreground.current!.resetPoints();\r\n        }\r\n    }\r\n\r\n    clearPath = () => {\r\n        this.foreground.current!.erasePath();\r\n    }\r\n\r\n    clearTiles = () => {\r\n        this.foreground.current!.clearTiles();\r\n    }\r\n\r\n    clearTilesChecked = () => {\r\n        if(!this.visualizing) {\r\n            this.foreground.current!.clearTiles();\r\n        }\r\n    }\r\n\r\n    clearVisualization = () => {\r\n        this.visualized = false;\r\n        this.background.current!.clear();\r\n    }\r\n\r\n    clearVisualizationChecked = () => {\r\n        if(!this.visualizing) {\r\n            this.visualized = false;\r\n            this.background.current!.clear();\r\n        }\r\n    }\r\n\r\n    private visualizeGenerations = (generations: Node[]) => {\r\n        this.background.current!.visualizeGenerations(generations);\r\n        this.visualized = true;\r\n    }\r\n\r\n    private visualizeGeneration = (generation: Node) => {\r\n        this.background.current!.visualizeGeneration(generation);\r\n    }\r\n\r\n    private addArrowGenerations = (generations: Node[]) => {\r\n        this.background.current!.addArrowGenerations(generations);\r\n    }\r\n\r\n    private addArrowGeneration = (generation: Node) => {\r\n        this.background.current!.addArrowGeneration(generation);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <StatsPanel ref={this.stats} algorithm={this.state.algorithm}\r\n                            length={this.state.length} cost={this.state.cost}\r\n                            time={this.state.time} nodes={this.state.nodes}\r\n                />\r\n                <div>\r\n                    <GridBackground ref={this.background} tileWidth={this.props.tileWidth}\r\n                                    tilesX={this.tilesX} tilesY={this.tilesY}\r\n                    />\r\n                    <GridForeground ref={this.foreground} topMargin={this.props.topMargin}\r\n                                    onTilesDragged={this.onTilesDragged} tileWidth={this.props.tileWidth}\r\n                                    tilesX={this.tilesX} tilesY={this.tilesY}\r\n                                    weightOpacity={this.state.weightOpacity}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction calcLength(initial: Point, path: Tile[]) {\r\n    if(path.length === 0) {\r\n        return 0;\r\n    }\r\n    let len = euclidean(initial, path[0].point);\r\n    for (let i = 0; i < path.length - 1; i++) {\r\n        len += euclidean(path[i].point, path[i + 1].point);\r\n    }\r\n    return +(len).toFixed(3);\r\n}\r\n\r\nfunction calcCost(initial: Tile, path: Tile[]) {\r\n    if(path.length === 0) {\r\n        return 0;\r\n    }\r\n    let len = euclidean(initial.point, path[0].point) * path[0].data.pathCost;\r\n    for (let i = 0; i < path.length - 1; i++) {\r\n        len += euclidean(path[i].point, path[i + 1].point) * path[i + 1].data.pathCost;\r\n    }\r\n    return +(len).toFixed(3);\r\n}\r\n\r\nexport default PathfindingVisualizer;","import React from 'react';\r\n\r\ninterface IProps {\r\n    boxStyle: string,\r\n    defaultChecked: boolean,\r\n    disabled?: boolean,\r\n    onChange: (checked: boolean) => void\r\n}\r\n\r\ninterface IState {\r\n    checked: boolean\r\n}\r\n\r\nclass Checkbox extends React.Component<IProps,IState>\r\n{\r\n    public static defaultProps = {\r\n        disabled: false\r\n    };\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            checked: this.props.defaultChecked\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Trigger callback and change checkbox state\r\n     */\r\n    onChange = () => {\r\n        this.setState(prevState => ({\r\n            checked: !prevState.checked\r\n        }), () => this.props.onChange(this.state.checked));\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <input checked={this.state.checked} type='checkbox' disabled={this.props.disabled}\r\n                       className={this.props.boxStyle} onKeyPress={this.onChange} onChange={this.onChange}\r\n                >\r\n                </input>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Checkbox;","import React from 'react';\r\n\r\ninterface IProps {\r\n    min: number,\r\n    max: number,\r\n    default: number,\r\n    step: number,\r\n    sliderStyle: string,\r\n    onChange: (val: number) => void\r\n}\r\n\r\ninterface IState {\r\n    value: number\r\n}\r\n\r\nclass SteppedRangeSlider extends React.Component<IProps, IState>\r\n{\r\n    private mouseUp = true;\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.default\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Trigger callback when slider value is changed\r\n     * @param e\r\n     */\r\n    onChange = (e: React.FormEvent<HTMLInputElement>) => {\r\n        if(!this.mouseUp) { //to prevent firefox from resetting on release\r\n            const val = Number(e.currentTarget.value);\r\n            this.setState({\r\n                value: val\r\n            }, () => this.props.onChange(val));\r\n        }\r\n    }\r\n\r\n    onMouseUp = () => {\r\n        this.mouseUp = true;\r\n    }\r\n\r\n    onMouseDown = () => {\r\n        this.mouseUp = false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <input type='range' list='step-list'\r\n                   value={this.state.value}\r\n                   min={this.props.min} max={this.props.max}\r\n                   step={this.props.step} className={this.props.sliderStyle}\r\n                   onInput={this.onChange}\r\n                   onMouseUp={this.onMouseUp}\r\n                   onMouseDown={this.onMouseDown}\r\n                   onTouchEnd={this.onMouseUp}\r\n                   onTouchStart={this.onMouseDown}\r\n            >\r\n            </input>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SteppedRangeSlider;","import React from 'react';\r\n\r\ninterface IProps {\r\n    boxStyle: string,\r\n    defaultChecked: number,\r\n    disabled: boolean,\r\n    onChange: (() => void)[]\r\n}\r\n\r\ninterface IState {\r\n    checked: boolean[];\r\n}\r\n\r\nclass RadioButtonGroup extends React.Component<IProps, IState>\r\n{\r\n    public static defaultProps = {\r\n        disabled: false\r\n    };\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        const checked: boolean[] = [];\r\n        for(let i = 0; i < this.props.onChange.length; i++) {\r\n            checked.push(i === this.props.defaultChecked);\r\n        }\r\n        this.state = {\r\n            checked: checked\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set all radio buttons to checked aside from the index\r\n     * of the one that was changed\r\n     * Trigger callback\r\n     * @param index\r\n     */\r\n    private onChange = (index: number) => {\r\n        const checked: boolean[] = [];\r\n        for(let i = 0; i < this.props.onChange.length; i++) {\r\n            checked.push(i === index);\r\n        }\r\n        this.setState({\r\n            checked: checked\r\n        }, () => this.props.onChange[index]());\r\n    }\r\n\r\n    render() {\r\n        const children = React.Children.toArray(this.props.children);\r\n        const radioButtons: JSX.Element[] = [];\r\n        for(let i = 0; i < this.props.onChange.length; i++) {\r\n            radioButtons.push(\r\n                <div key={i}>\r\n                    <input checked={this.state.checked[i]} type='radio' disabled={this.props.disabled}\r\n                           className={this.props.boxStyle}\r\n                           onChange={() => this.onChange(i)}\r\n                    >\r\n                    </input>\r\n                    {children[i]}\r\n                </div>\r\n            );\r\n        }\r\n        return radioButtons;\r\n    };\r\n}\r\n\r\nexport default RadioButtonGroup;","import React from 'react';\r\nimport './Navbar.css'\r\nimport Checkbox from '../utility/Checkbox';\r\nimport SteppedRangeSlider from '../utility/SteppedRangeSlider';\r\nimport RadioButtonGroup from '../utility/RadioButtonGroup';\r\n\r\ninterface VisualProps {\r\n    onChangeViz: () => void,\r\n    onChangeShowArrows: () => void,\r\n    onChangeWOpacity: () => void,\r\n    disabled: boolean\r\n}\r\n\r\ninterface SpeedProps {\r\n    onChange: (value: number) => void,\r\n    initialSpeed: number\r\n}\r\n\r\ninterface SpeedState {\r\n    speedText: string\r\n}\r\n\r\ninterface AlgorithmProps {\r\n    onChangeBidirectional: (checked: boolean) => void,\r\n    disabled: boolean\r\n}\r\n\r\ninterface HeuristicProps {\r\n    onClickManhattan: () => void,\r\n    onClickEuclidean: () => void,\r\n    onClickChebyshev: () => void,\r\n    onClickOctile: () => void,\r\n    disabled: boolean\r\n}\r\n\r\nconst SPEED_STEP = 2;\r\nconst SPEED_INITIAL = 4;\r\nconst MAX = 18;\r\n\r\nexport class VisualSettings extends React.Component<VisualProps>\r\n{\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className='draggable-content-title'>Visualization</div>\r\n                <Checkbox defaultChecked={true} boxStyle='box'\r\n                          onChange={this.props.onChangeViz}>\r\n                    Show Frontier\r\n                </Checkbox>\r\n                <Checkbox defaultChecked={true} boxStyle='box'\r\n                          onChange={this.props.onChangeShowArrows}\r\n                          disabled={this.props.disabled}>\r\n                    Show Tree\r\n                </Checkbox>\r\n                <Checkbox defaultChecked={false} boxStyle='box'\r\n                          onChange={this.props.onChangeWOpacity}>\r\n                    Translucent Weights\r\n                </Checkbox>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class SpeedSettings extends React.Component<SpeedProps, SpeedState>\r\n{\r\n    constructor(props: SpeedProps) {\r\n        super(props);\r\n        this.state = {\r\n            speedText: String(this.props.initialSpeed)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Callback function to be called when slider is changed\r\n     * Call another callback and change text\r\n     * @param value\r\n     */\r\n    onChangeSpeed = (value: number) => {\r\n        const speed = SPEED_INITIAL + SPEED_STEP * value;\r\n        this.setState({\r\n            speedText: String(speed)\r\n        })\r\n        this.props.onChange(speed);\r\n    }\r\n\r\n    render() {\r\n        const options: JSX.Element[] = [];\r\n        for(let i = 1; i <= MAX; i++) {\r\n            options.push(<option key={'option ' + i}>{i}</option>);\r\n        }\r\n        return (\r\n            <div className='slider-container'>\r\n                <div className='slider-text'>\r\n                    Speed: <div className='speed-text'> {this.state.speedText} </div>\r\n                </div>\r\n                    <SteppedRangeSlider min={1} max={MAX} step={1}\r\n                                        default={(this.props.initialSpeed - SPEED_INITIAL) / SPEED_STEP}\r\n                                        sliderStyle='slider speed-slider'\r\n                                        onChange={this.onChangeSpeed}\r\n                />\r\n                <datalist id='step-list'>\r\n                    {options}\r\n                </datalist>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class AlgorithmSettings extends React.Component<AlgorithmProps>\r\n{\r\n    constructor(props: AlgorithmProps) {\r\n        super(props);\r\n        this.state = {\r\n            disabled: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className='draggable-content-title'>Algorithm</div>\r\n                <Checkbox defaultChecked={false} boxStyle='box'\r\n                          disabled={this.props.disabled}\r\n                          onChange={this.props.onChangeBidirectional}>\r\n                    Bidirectional\r\n                </Checkbox>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class HeuristicSettings extends React.Component<HeuristicProps>\r\n{\r\n    constructor(props: HeuristicProps) {\r\n        super(props);\r\n        this.state = {\r\n            disabled: false\r\n        }\r\n    }\r\n\r\n    disable = () => {\r\n        this.setState({\r\n            disabled: true\r\n        })\r\n    }\r\n\r\n    enable = () => {\r\n        this.setState({\r\n            disabled: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className='draggable-content-title'>Heuristic</div>\r\n                <RadioButtonGroup boxStyle='box'\r\n                                  defaultChecked={1}\r\n                                  disabled={this.props.disabled}\r\n                                  onChange={[\r\n                                      this.props.onClickManhattan, this.props.onClickEuclidean,\r\n                                      this.props.onClickChebyshev, this.props.onClickOctile\r\n                                  ]}\r\n                >\r\n                    {[<span key='Manhattan'>Manhattan</span>, <span key='Euclidean'>Euclidean</span>,\r\n                        <span key='Chebyshev'>Chebyshev</span>, <span key='Octile<'>Octile</span>]}\r\n                </RadioButtonGroup>\r\n            </div>\r\n        )\r\n    }\r\n}","import PathfindingSettings, {getDefaultSettings} from './PathfindingSettings';\r\n\r\nclass SettingsManager\r\n{\r\n    settings: PathfindingSettings = getDefaultSettings();\r\n\r\n    changeAlgo = (algo: string) => {\r\n        this.settings.algorithm = algo;\r\n    }\r\n\r\n    changeVisualize = () => {\r\n        this.settings.visualizeAlg = !this.settings.visualizeAlg;\r\n    }\r\n\r\n    changeShowArrows = () => {\r\n        this.settings.showArrows = !this.settings.showArrows;\r\n    }\r\n\r\n    changeBidirectional = () => {\r\n        this.settings.bidirectional = !this.settings.bidirectional;\r\n    }\r\n\r\n    changeSpeed = (value: number) => {\r\n        this.settings.delayInc = value;\r\n    }\r\n\r\n    changeManhattan = () => {\r\n        this.settings.heuristicKey = 'manhattan';\r\n    }\r\n\r\n    changeEuclidean = () => {\r\n        this.settings.heuristicKey = 'euclidean';\r\n    }\r\n\r\n    changeChebyshev = () => {\r\n        this.settings.heuristicKey = 'chebyshev';\r\n    }\r\n\r\n    changeOctile = () => {\r\n        this.settings.heuristicKey = 'octile';\r\n    }\r\n}\r\n\r\nexport default SettingsManager;","interface PathfindingSettings\r\n{\r\n    visualizeAlg: boolean,\r\n    showArrows: boolean,\r\n    delayInc: number,\r\n    algorithm: string,\r\n    heuristicKey: string,\r\n    navigatorKey: string,\r\n    bidirectional: boolean,\r\n}\r\n\r\nexport function getDefaultSettings(): PathfindingSettings {\r\n    return {\r\n        visualizeAlg: true,\r\n        showArrows: true,\r\n        delayInc: 8,\r\n        algorithm: 'a*',\r\n        heuristicKey: 'euclidean',\r\n        navigatorKey: 'plus',\r\n        bidirectional: false,\r\n    }\r\n}\r\n\r\nexport default PathfindingSettings;","export default __webpack_public_path__ + \"static/media/react.93a4bdf1.png\";","import React, {RefObject} from 'react';\r\nimport TopBar from './navbar/TopBar';\r\nimport {VisualizeButton, SettingsButton} from './navbar/Buttons';\r\nimport {AlgorithmDropDown, ClearDropDown, MazeDropDown, TilesDropDown} from './navbar/DropDownComponents';\r\nimport DraggablePanel from './utility/DraggablePanel';\r\nimport PathfindingVisualizer from './grid/PathfindingVisualizer';\r\nimport {VisualSettings, SpeedSettings, AlgorithmSettings, HeuristicSettings} from './navbar/SettingPanels';\r\nimport SettingsManager from './SettingsManager';\r\nimport PathfinderBuilder from '../pathfinding/algorithms/PathfinderBuilder';\r\nimport {MAZE, MAZE_HORIZONTAL_SKEW, MAZE_VERTICAL_SKEW, RANDOM_TERRAIN} from '../pathfinding/algorithms/TerrainGeneratorBuilder';\r\nimport Icon from './web-content/react.png';\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {\r\n    heuristicDisabled: boolean,\r\n    bidirectionalDisabled: boolean,\r\n    arrowsDisabled: boolean,\r\n\r\n    panelShow: boolean,\r\n\r\n    topMargin: number,\r\n\r\n    visualizing: boolean,\r\n    paused: boolean\r\n}\r\n\r\nclass PathfindingApp extends React.Component<IProps, IState>\r\n{\r\n    //expose visualizer to parent to connect to button siblings\r\n    private visualizer: RefObject<PathfindingVisualizer> = React.createRef();\r\n\r\n    //drop down refs needed to invoke behavior between dropdowns\r\n    private algDropDown: RefObject<AlgorithmDropDown> = React.createRef();\r\n    private clrDropDown: RefObject<ClearDropDown> = React.createRef();\r\n    private mazeDropDown: RefObject<MazeDropDown> = React.createRef();\r\n    private tilesDropDown: RefObject<TilesDropDown> = React.createRef();\r\n\r\n    private settingsManager: SettingsManager = new SettingsManager();\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            heuristicDisabled: false,\r\n            bidirectionalDisabled: false,\r\n            arrowsDisabled: false,\r\n            panelShow: false,\r\n            topMargin: 75,\r\n            visualizing: false,\r\n            paused: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('click', () => {\r\n            this.algDropDown.current!.hide();\r\n            this.clrDropDown.current!.hide();\r\n            this.mazeDropDown.current!.hide();\r\n            this.tilesDropDown.current!.hide();\r\n        });\r\n    }\r\n\r\n    onClickAlgDrop = () => {\r\n        this.clrDropDown.current!.hide();\r\n        this.mazeDropDown.current!.hide();\r\n        this.tilesDropDown.current!.hide();\r\n    }\r\n\r\n    onClickClrDrop = () => {\r\n        this.algDropDown.current!.hide();\r\n        this.mazeDropDown.current!.hide();\r\n        this.tilesDropDown.current!.hide();\r\n    }\r\n\r\n    onClickMazeDrop = () => {\r\n        this.clrDropDown.current!.hide();\r\n        this.algDropDown.current!.hide();\r\n        this.tilesDropDown.current!.hide();\r\n    }\r\n\r\n    onClickTilesDrop = () => {\r\n        this.clrDropDown.current!.hide();\r\n        this.algDropDown.current!.hide();\r\n        this.mazeDropDown.current!.hide();\r\n    }\r\n\r\n    changeVButtonColor = (visualizing: boolean) => {\r\n        this.setState({\r\n            visualizing: visualizing\r\n        })\r\n    }\r\n\r\n    toggleSettings = () => {\r\n        this.setState(prevState => ({\r\n            panelShow: !prevState.panelShow\r\n        }));\r\n    }\r\n\r\n    hideSettings = () => {\r\n        this.setState({\r\n            panelShow: false\r\n        });\r\n    }\r\n\r\n    changeAlgo = (algorithm: string) => {\r\n        this.setState({\r\n            heuristicDisabled: !PathfinderBuilder.usesHeuristic(algorithm),\r\n            bidirectionalDisabled: !PathfinderBuilder.hasBidirectional(algorithm),\r\n            arrowsDisabled: algorithm === 'dfs'\r\n        });\r\n        this.settingsManager.changeAlgo(algorithm);\r\n    }\r\n\r\n    doPathfinding = () => {\r\n        this.setState({\r\n            paused: false\r\n        });\r\n        this.visualizer.current!.doDelayedPathfinding();\r\n    }\r\n\r\n    pausePathfinding = () => {\r\n        this.setState({\r\n            paused: true\r\n        });\r\n        this.visualizer.current!.pausePathfinding();\r\n    }\r\n\r\n    resumePathfinding = () => {\r\n        this.setState({\r\n            paused: false\r\n        });\r\n        this.visualizer.current!.resumePathfinding();\r\n    }\r\n\r\n    clearPath = () => {\r\n        this.visualizer.current!.clearPath();\r\n        this.visualizer.current!.clearVisualizationChecked();\r\n    }\r\n\r\n    clearTiles = () => {\r\n        this.clearPath();\r\n        this.visualizer.current!.clearTilesChecked();\r\n    }\r\n\r\n    resetBoard = () => {\r\n        this.clearPath();\r\n        this.clearTiles();\r\n        this.visualizer.current!.resetPoints();\r\n    }\r\n\r\n    createMaze = () => {\r\n        this.visualizer.current!.createTerrain(MAZE);\r\n    }\r\n\r\n    createMazeVSkew = () => {\r\n        this.visualizer.current!.createTerrain(MAZE_VERTICAL_SKEW);\r\n    }\r\n\r\n    createMazeHSkew = () => {\r\n        this.visualizer.current!.createTerrain(MAZE_HORIZONTAL_SKEW);\r\n    }\r\n\r\n    createRandomTerrain = () => {\r\n        this.visualizer.current!.createTerrain(RANDOM_TERRAIN);\r\n    }\r\n\r\n    onChangeHeight = (height: number) => {\r\n        this.setState({\r\n            topMargin: height\r\n        });\r\n    }\r\n\r\n    changeTile = (cost: number) => {\r\n        this.visualizer.current!.changeTile({\r\n            isSolid: cost === -1,\r\n            pathCost: cost\r\n        });\r\n    }\r\n\r\n    onChangeWOpacity = () => {\r\n        this.visualizer.current!.setState(prevState => ({\r\n            weightOpacity: prevState.weightOpacity === 1 ? 0.2 : 1\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        const useIcon = window.innerWidth <= 830;\r\n        const title = 'Pathfinding Visualizer';\r\n        const mobile = isMobile();\r\n        const tileWidth =  mobile ? 47 : Math.round(window.screen.availWidth / 57);\r\n        if(mobile) {\r\n            this.settingsManager.changeSpeed(20);\r\n        } else if(window.screen.availWidth > 2500) {\r\n            this.settingsManager.changeSpeed(12);\r\n        }\r\n        return (\r\n            <div>\r\n                <DraggablePanel title='Grid Settings'\r\n                                show={this.state.panelShow}\r\n                                onClickXButton={this.hideSettings}\r\n                                width={350}\r\n                                height={425}\r\n                >\r\n                    <VisualSettings disabled={this.state.arrowsDisabled}\r\n                                    onChangeViz={this.settingsManager.changeVisualize}\r\n                                    onChangeShowArrows={this.settingsManager.changeShowArrows}\r\n                                    onChangeWOpacity={this.onChangeWOpacity}\r\n                    />\r\n                    <SpeedSettings onChange={this.settingsManager.changeSpeed}\r\n                                   initialSpeed={this.settingsManager.settings.delayInc}\r\n                    />\r\n                    <AlgorithmSettings disabled={this.state.bidirectionalDisabled}\r\n                                       onChangeBidirectional={this.settingsManager.changeBidirectional}\r\n                    />\r\n                    <HeuristicSettings disabled={this.state.heuristicDisabled}\r\n                                       onClickManhattan={this.settingsManager.changeManhattan}\r\n                                       onClickEuclidean={this.settingsManager.changeEuclidean}\r\n                                       onClickChebyshev={this.settingsManager.changeChebyshev}\r\n                                       onClickOctile={this.settingsManager.changeOctile}\r\n                    />\r\n                </DraggablePanel>\r\n                <TopBar onChangeHeight={this.onChangeHeight}>\r\n                    <a href='https://github.com/JosephPrichard/PathfinderReact' className='title'\r\n                       style={{\r\n                           width: useIcon ? '70px' : 'auto',\r\n                           height: useIcon ? '52px' : '100%'\r\n\r\n                       }}\r\n                    >\r\n                        {\r\n                            useIcon ?\r\n                                <img width={'100%'} height={'100%'}\r\n                                     className='icon'\r\n                                     alt={title} src={Icon}/> :\r\n                                title\r\n                        }\r\n                    </a>\r\n                    <div className='top-container'>\r\n                        <AlgorithmDropDown ref={this.algDropDown}\r\n                                           onClick={this.onClickAlgDrop}\r\n                                           onChange={this.changeAlgo}\r\n                        />\r\n                        <VisualizeButton active={this.state.visualizing}\r\n                                         paused={this.state.paused}\r\n                                         onPause={this.pausePathfinding}\r\n                                         onResume={this.resumePathfinding}\r\n                                         onStartStop={this.doPathfinding}\r\n                        />\r\n                        <ClearDropDown ref={this.clrDropDown}\r\n                                       onClick={this.onClickClrDrop}\r\n                                       onClickTiles={this.clearTiles}\r\n                                       onClickPath={this.clearPath}\r\n                                       onClickReset={this.resetBoard}\r\n                        />\r\n                        <TilesDropDown ref={this.tilesDropDown}\r\n                                       onClick={this.onClickTilesDrop}\r\n                                       onClickTileType={this.changeTile}\r\n                        />\r\n                        <MazeDropDown ref={this.mazeDropDown}\r\n                                      onClick={this.onClickMazeDrop}\r\n                                      onClickMaze={this.createMaze}\r\n                                      onClickMazeHorizontal={this.createMazeHSkew}\r\n                                      onClickMazeVertical={this.createMazeVSkew}\r\n                                      onClickRandomTerrain={this.createRandomTerrain}\r\n                        />\r\n                        <SettingsButton onClick={this.toggleSettings}/>\r\n                    </div>\r\n                </TopBar>\r\n                <PathfindingVisualizer ref={this.visualizer}\r\n                                       onChangeVisualizing={this.changeVButtonColor}\r\n                                       topMargin={this.state.topMargin}\r\n                                       settings={this.settingsManager.settings}\r\n                                       tileWidth={tileWidth}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction isMobile() {\r\n    return /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n}\r\n\r\nexport default PathfindingApp;","import React from 'react';\nimport './App.css';\nimport PathfindingApp from './view/PathfindingApp';\n\nclass App extends React.Component\n{\n    render() {\n        return (\n            <PathfindingApp/>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n//reportWebVitals();\n"],"sourceRoot":""}